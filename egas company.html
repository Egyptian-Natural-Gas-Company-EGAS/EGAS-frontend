<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EGAS - Egyptian Natural Gas Holding Company</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #10b981;
            --secondary-color: #047857;
            --accent-color: #065f46;
            --light-color: #f3f4f6;
            --dark-color: #1f2937;
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --danger-color: #ef4444;
            --white-color: #ffffff;
            --border-radius: 8px;
            --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
            --sidebar-width: 70px;
        }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        body {
            background-color: #f9fafb;
            color: #333;
            line-height: 1.6;
            transition: var(--transition);
            padding-right: 0;
        }
        body.dark-mode {
            background-color: #1f2937;
            color: #f3f4f6;
        }
        body.logged-in {
            padding-right: var(--sidebar-width);
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        .header {
            background-color: var(--primary-color);
            color: white;
            padding: 15px 0;
            box-shadow: var(--box-shadow);
            position: sticky;
            top: 0;
            z-index: 100;
            background-image: url('https://z-cdn-media.chatglm.cn/files/624c7cf2-9426-4fa6-a3b8-08f6ee5b961c_WhatsApp%20Image%202025-08-12%20at%2010.32.33_4ab4dc38.jpg?auth_key=1788360030-f02054b37b6046bfbcb98a358cfde018-0-61cd752c138aa9a63f39d445d9ef73a2');
            background-size: contain;
            background-position: center;
            background-repeat: no-repeat;
            background-color: var(--white-color);
            background-blend-mode: normal;
        }
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            z-index: 2;
        }
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.5rem;
            font-weight: bold;
        }
        .logo i {
            color: var(--primary-color);
            font-size: 2rem;
        }
        .nav-links {
            display: flex;
            gap: 20px;
        }
        .nav-link {
            color: var(--primary-color);
            text-decoration: none;
            padding: 8px 15px;
            border-radius: var(--border-radius);
            transition: var(--transition);
        }
        .nav-link:hover {
            background-color: rgba(16, 185, 129, 0.2);
        }
        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--white-color);
            color: var(--primary-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            border: 2px solid var(--primary-color);
        }
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
            display: inline-block;
            text-align: center;
        }
        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }
        .btn-primary:hover {
            background-color: var(--secondary-color);
        }
        .btn-secondary {
            background-color: #e5e7eb;
            color: var(--dark-color);
        }
        .btn-secondary:hover {
            background-color: #d1d5db;
        }
        .btn-success {
            background-color: var(--success-color);
            color: white;
        }
        .btn-success:hover {
            background-color: var(--secondary-color);
        }
        .btn-danger {
            background-color: var(--danger-color);
            color: white;
        }
        .btn-danger:hover {
            background-color: #dc2626;
        }
        .btn-back {
            background-color: transparent;
            color: var(--primary-color);
            border: 1px solid var(--primary-color);
            margin-bottom: 20px;
        }
        .btn-back:hover {
            background-color: var(--primary-color);
            color: white;
        }
        .card {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 20px;
            margin-bottom: 20px;
            transition: var(--transition);
        }
        body.dark-mode .card {
            background-color: #374151;
            color: #f3f4f6;
        }
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #e5e7eb;
        }
        body.dark-mode .card-header {
            border-bottom-color: #4b5563;
        }
        .card-title {
            font-size: 1.25rem;
            font-weight: 600;
        }
        .form-group {
            margin-bottom: 15px;
        }
        .form-label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }
        .form-input {
            width: 100%;
            padding: 10px 15px;
            border: 1px solid #d1d5db;
            border-radius: var(--border-radius);
            font-size: 1rem;
            transition: var(--transition);
        }
        body.dark-mode .form-input {
            background-color: #4b5563;
            border-color: #6b7280;
            color: #f3f4f6;
        }
        .form-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.25);
        }
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }
        .dashboard-section {
            margin-bottom: 30px;
        }
        .section-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .file-item, .video-item, .task-item, .certificate-item {
            display: flex;
            align-items: center;
            padding: 12px;
            border: 1px solid #e5e7eb;
            border-radius: var(--border-radius);
            margin-bottom: 10px;
            transition: var(--transition);
        }
        body.dark-mode .file-item, 
        body.dark-mode .video-item, 
        body.dark-mode .task-item, 
        body.dark-mode .certificate-item {
            border-color: #4b5563;
        }
        .file-item:hover, .video-item:hover, .task-item:hover, .certificate-item:hover {
            background-color: #f3f4f6;
        }
        body.dark-mode .file-item:hover, 
        body.dark-mode .video-item:hover, 
        body.dark-mode .task-item:hover, 
        body.dark-mode .certificate-item:hover {
            background-color: #4b5563;
        }
        .file-icon, .video-icon, .task-icon, .certificate-icon {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            margin-left: 15px;
            font-size: 1.2rem;
        }
        .file-icon {
            background-color: #d1fae5;
            color: var(--primary-color);
        }
        .video-icon {
            background-color: #ffedd5;
            color: #f97316;
        }
        .task-icon {
            background-color: #dcfce7;
            color: #16a34a;
        }
        .certificate-icon {
            background-color: #fef3c7;
            color: #d97706;
        }
        .file-details, .video-details, .task-details, .certificate-details {
            flex: 1;
        }
        .file-name, .video-title, .task-title, .certificate-name {
            font-weight: 600;
            margin-bottom: 5px;
        }
        .file-meta, .video-meta, .task-meta, .certificate-meta {
            font-size: 0.85rem;
            color: #6b7280;
        }
        body.dark-mode .file-meta, 
        body.dark-mode .video-meta, 
        body.dark-mode .task-meta, 
        body.dark-mode .certificate-meta {
            color: #9ca3af;
        }
        .post-item {
            border: 1px solid #e5e7eb;
            border-radius: var(--border-radius);
            padding: 15px;
            margin-bottom: 15px;
            transition: var(--transition);
        }
        body.dark-mode .post-item {
            border-color: #4b5563;
        }
        .post-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        .post-author {
            font-weight: 600;
            color: var(--primary-color);
        }
        .post-department {
            font-size: 0.85rem;
            color: #6b7280;
        }
        body.dark-mode .post-department {
            color: #9ca3af;
        }
        .post-content {
            margin-bottom: 15px;
        }
        .post-actions {
            display: flex;
            gap: 15px;
            font-size: 0.9rem;
        }
        .post-action {
            color: #6b7280;
            cursor: pointer;
            transition: var(--transition);
        }
        body.dark-mode .post-action {
            color: #9ca3af;
        }
        .post-action:hover {
            color: var(--primary-color);
        }
        .comments-section {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px dashed #e5e7eb;
        }
        body.dark-mode .comments-section {
            border-top-color: #4b5563;
        }
        .comment-item {
            margin-bottom: 10px;
            padding: 10px;
            background-color: #f9fafb;
            border-radius: var(--border-radius);
        }
        body.dark-mode .comment-item {
            background-color: #4b5563;
        }
        .comment-author {
            font-weight: 600;
            margin-bottom: 5px;
        }
        .comment-content {
            font-size: 0.9rem;
        }
        .comment-actions {
            display: flex;
            gap: 10px;
            margin-top: 5px;
            font-size: 0.8rem;
        }
        .comment-action {
            color: #6b7280;
            cursor: pointer;
        }
        body.dark-mode .comment-action {
            color: #9ca3af;
        }
        .comment-action:hover {
            color: var(--primary-color);
        }
        .replies-section {
            margin-right: 20px;
            margin-top: 10px;
        }
        .reply-item {
            margin-bottom: 8px;
            padding: 8px;
            background-color: #f3f4f6;
            border-radius: var(--border-radius);
        }
        body.dark-mode .reply-item {
            background-color: #4b5563;
        }
        .ai-assistant {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            background-color: var(--primary-color);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: var(--box-shadow);
            z-index: 1000;
            font-size: 1.5rem;
        }
        .ai-assistant:hover {
            background-color: var(--secondary-color);
        }
        .ai-chat {
            position: fixed;
            bottom: 90px;
            right: 20px;
            width: 350px;
            height: 450px;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            display: none;
            flex-direction: column;
            z-index: 1000;
        }
        body.dark-mode .ai-chat {
            background-color: #374151;
        }
        .ai-chat-header {
            background-color: var(--primary-color);
            color: white;
            padding: 15px;
            border-radius: var(--border-radius) var(--border-radius) 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .ai-chat-close {
            cursor: pointer;
        }
        .ai-chat-body {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
        }
        .ai-chat-footer {
            padding: 15px;
            border-top: 1px solid #e5e7eb;
        }
        body.dark-mode .ai-chat-footer {
            border-top-color: #4b5563;
        }
        .ai-message {
            margin-bottom: 15px;
            padding: 10px 15px;
            border-radius: var(--border-radius);
            max-width: 80%;
        }
        .ai-message.user {
            background-color: #d1fae5;
            align-self: flex-end;
            margin-left: auto;
        }
        body.dark-mode .ai-message.user {
            background-color: var(--accent-color);
            color: white;
        }
        .ai-message.ai {
            background-color: #f3f4f6;
            align-self: flex-start;
        }
        body.dark-mode .ai-message.ai {
            background-color: #4b5563;
            color: #f3f4f6;
        }
        .meeting-reminder {
            background-color: #fef3c7;
            border: 1px solid #fcd34d;
            border-radius: var(--border-radius);
            padding: 15px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        body.dark-mode .meeting-reminder {
            background-color: #451a03;
            border-color: #fcd34d;
        }
        .meeting-icon {
            color: #d97706;
            font-size: 1.5rem;
        }
        .meeting-details h4 {
            margin-bottom: 5px;
        }
        .meeting-details p {
            font-size: 0.9rem;
            color: #78350f;
        }
        body.dark-mode .meeting-details p {
            color: #fcd34d;
        }
        .settings-panel {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 20px;
            margin-bottom: 20px;
        }
        body.dark-mode .settings-panel {
            background-color: #374151;
        }
        .settings-group {
            margin-bottom: 25px;
        }
        .settings-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--primary-color);
        }
        .settings-option {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #e5e7eb;
        }
        body.dark-mode .settings-option {
            border-bottom-color: #4b5563;
        }
        .settings-option:last-child {
            border-bottom: none;
        }
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .slider {
            background-color: var(--primary-color);
        }
        input:checked + .slider:before {
            transform: translateX(26px);
        }
        .profile-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            border: 1px solid #e5e7eb;
            border-radius: var(--border-radius);
            margin-bottom: 20px;
        }
        body.dark-mode .profile-section {
            border-color: #4b5563;
        }
        .profile-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background-color: var(--white-color);
            color: var(--primary-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 15px;
        }
        .profile-name {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 5px;
        }
        .profile-role {
            color: #6b7280;
            margin-bottom: 15px;
        }
        body.dark-mode .profile-role {
            color: #9ca3af;
        }
        .profile-stats {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }
        .profile-stat {
            text-align: center;
        }
        .profile-stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-color);
        }
        .profile-stat-label {
            font-size: 0.85rem;
            color: #6b7280;
        }
        body.dark-mode .profile-stat-label {
            color: #9ca3af;
        }
        .tab-container {
            margin-bottom: 20px;
        }
        .tab-buttons {
            display: flex;
            border-bottom: 1px solid #e5e7eb;
            margin-bottom: 15px;
        }
        body.dark-mode .tab-buttons {
            border-bottom-color: #4b5563;
        }
        .tab-button {
            padding: 10px 20px;
            background: none;
            border: none;
            border-bottom: 2px solid transparent;
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
            color: #6b7280;
        }
        body.dark-mode .tab-button {
            color: #9ca3af;
        }
        .tab-button.active {
            color: var(--primary-color);
            border-bottom-color: var(--primary-color);
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .course-item {
            display: flex;
            align-items: center;
            padding: 15px;
            border: 1px solid #e5e7eb;
            border-radius: var(--border-radius);
            margin-bottom: 15px;
            transition: var(--transition);
        }
        body.dark-mode .course-item {
            border-color: #4b5563;
        }
        .course-item:hover {
            background-color: #f3f4f6;
        }
        body.dark-mode .course-item:hover {
            background-color: #4b5563;
        }
        .course-icon {
            width: 50px;
            height: 50px;
            background-color: #d1fae5;
            color: var(--primary-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-left: 15px;
            font-size: 1.5rem;
        }
        .course-details {
            flex: 1;
        }
        .course-title {
            font-weight: 600;
            margin-bottom: 5px;
        }
        .course-description {
            font-size: 0.9rem;
            color: #6b7280;
            margin-bottom: 10px;
        }
        body.dark-mode .course-description {
            color: #9ca3af;
        }
        .course-actions {
            display: flex;
            gap: 10px;
        }
        .hidden {
            display: none !important;
        }
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: var(--success-color);
            color: white;
            padding: 15px 20px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 10px;
            transform: translateX(150%);
            transition: transform 0.3s ease;
            max-width: 350px;
        }
        .notification.show {
            transform: translateX(0);
        }
        .notification.error {
            background-color: var(--danger-color);
        }
        .notification.warning {
            background-color: var(--warning-color);
        }
        .notification-content {
            flex: 1;
        }
        .notification-title {
            font-weight: 600;
            margin-bottom: 5px;
        }
        .notification-message {
            font-size: 0.9rem;
        }
        .notification-link {
            color: white;
            text-decoration: underline;
            margin-top: 5px;
            display: inline-block;
        }
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
        }
        .modal-content {
            background-color: white;
            border-radius: var(--border-radius);
            width: 90%;
            max-width: 500px;
            padding: 25px;
            position: relative;
        }
        body.dark-mode .modal-content {
            background-color: #374151;
        }
        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.5rem;
            cursor: pointer;
            color: #6b7280;
        }
        body.dark-mode .modal-close {
            color: #9ca3af;
        }
        .modal-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--primary-color);
        }
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: #6b7280;
        }
        body.dark-mode .empty-state {
            color: #9ca3af;
        }
        .empty-state i {
            font-size: 3rem;
            margin-bottom: 15px;
            color: #d1d5db;
        }
        body.dark-mode .empty-state i {
            color: #4b5563;
        }
        .login-container {
            max-width: 500px;
            margin: 50px auto;
        }
        .login-header {
            text-align: center;
            margin-bottom: 30px;
        }
        .login-header h1 {
            color: var(--primary-color);
            font-size: 2rem;
            margin-bottom: 10px;
        }
        .login-header p {
            color: #6b7280;
        }
        .login-form {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 30px;
        }
        body.dark-mode .login-form {
            background-color: #374151;
        }
        .login-options {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        .login-options a {
            color: var(--primary-color);
            text-decoration: none;
            font-size: 0.9rem;
        }
        .login-options a:hover {
            text-decoration: underline;
        }
        .department-card {
            cursor: pointer;
            transition: var(--transition);
        }
        .department-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
        }
        .restricted-department {
            position: relative;
        }
        .restricted-badge {
            position: absolute;
            top: 10px;
            left: 10px;
            background-color: var(--danger-color);
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 600;
        }
        
        /* Sidebar Styles */
        .sidebar {
            position: fixed;
            top: 0;
            right: 0;
            width: var(--sidebar-width);
            height: 100%;
            background-color: var(--primary-color);
            z-index: 1000;
            display: none;
            flex-direction: column;
            align-items: center;
            padding-top: 80px;
            box-shadow: -2px 0 5px rgba(0, 0, 0, 0.1);
        }
        
        .sidebar-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.2);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            cursor: pointer;
            transition: var(--transition);
            font-size: 1.2rem;
            position: relative;
        }
        
        .sidebar-icon:hover {
            background-color: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }
        
        .sidebar-icon.active {
            background-color: var(--white-color);
            color: var(--primary-color);
        }
        
        .sidebar-tooltip {
            position: absolute;
            right: 70px;
            background-color: var(--dark-color);
            color: white;
            padding: 5px 10px;
            border-radius: var(--border-radius);
            font-size: 0.85rem;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
        }
        
        .sidebar-icon:hover .sidebar-tooltip {
            opacity: 1;
        }
        
        /* Add Menu Dropdown */
        .add-menu {
            position: absolute;
            bottom: 20px;
            right: 80px;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            width: 250px;
            display: none;
            flex-direction: column;
            z-index: 1001;
        }
        
        body.dark-mode .add-menu {
            background-color: #374151;
        }
        
        .add-menu-item {
            padding: 12px 15px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 10px;
            border-bottom: 1px solid #e5e7eb;
        }
        
        body.dark-mode .add-menu-item {
            border-bottom-color: #4b5563;
        }
        
        .add-menu-item:last-child {
            border-bottom: none;
        }
        
        .add-menu-item:hover {
            background-color: #f3f4f6;
        }
        
        body.dark-mode .add-menu-item:hover {
            background-color: #4b5563;
        }
        
        /* Notifications Panel */
        .notifications-panel {
            position: fixed;
            top: 70px;
            right: 80px;
            width: 350px;
            max-height: 500px;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            display: none;
            flex-direction: column;
            z-index: 999;
            overflow: hidden;
        }
        
        body.dark-mode .notifications-panel {
            background-color: #374151;
        }
        
        .notifications-header {
            background-color: var(--primary-color);
            color: white;
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .notifications-body {
            flex: 1;
            overflow-y: auto;
            padding: 15px;
        }
        
        .notification-item {
            padding: 12px;
            border-bottom: 1px solid #e5e7eb;
            transition: var(--transition);
            cursor: pointer;
        }
        
        body.dark-mode .notification-item {
            border-bottom-color: #4b5563;
        }
        
        .notification-item:hover {
            background-color: #f3f4f6;
        }
        
        body.dark-mode .notification-item:hover {
            background-color: #4b5563;
        }
        
        .notification-item:last-child {
            border-bottom: none;
        }
        
        .notification-title {
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .notification-message {
            font-size: 0.9rem;
            color: #6b7280;
        }
        
        body.dark-mode .notification-message {
            color: #9ca3af;
        }
        
        .notification-time {
            font-size: 0.8rem;
            color: #9ca3af;
            margin-top: 5px;
        }
        
        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: var(--danger-color);
            color: white;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: bold;
        }
        
        /* Department Filter */
        .department-filter {
            margin-bottom: 20px;
        }
        
        .filter-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .filter-options {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .filter-option {
            padding: 5px 12px;
            background-color: #f3f4f6;
            border-radius: 20px;
            font-size: 0.85rem;
            cursor: pointer;
            transition: var(--transition);
        }
        
        body.dark-mode .filter-option {
            background-color: #4b5563;
        }
        
        .filter-option:hover {
            background-color: var(--primary-color);
            color: white;
        }
        
        .filter-option.active {
            background-color: var(--primary-color);
            color: white;
        }
        
        .filter-actions {
            display: flex;
            gap: 10px;
        }
        
        .filter-btn {
            padding: 5px 12px;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 0.85rem;
            transition: var(--transition);
        }
        
        .filter-apply {
            background-color: var(--primary-color);
            color: white;
        }
        
        .filter-apply:hover {
            background-color: var(--secondary-color);
        }
        
        .filter-reset {
            background-color: #e5e7eb;
            color: var(--dark-color);
        }
        
        .filter-reset:hover {
            background-color: #d1d5db;
        }
        
        /* Home Feed Styles */
        .home-feed {
            margin-top: 20px;
        }
        
        .feed-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .feed-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--primary-color);
        }
        
        .feed-filter {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .feed-filter select {
            padding: 8px 12px;
            border: 1px solid #d1d5db;
            border-radius: var(--border-radius);
            background-color: white;
            font-size: 0.9rem;
        }
        
        body.dark-mode .feed-filter select {
            background-color: #4b5563;
            border-color: #6b7280;
            color: #f3f4f6;
        }
        
        .comment-form {
            margin-top: 10px;
            padding: 10px;
            background-color: #f9fafb;
            border-radius: var(--border-radius);
        }
        
        body.dark-mode .comment-form {
            background-color: #4b5563;
        }
        
        .comment-input {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #d1d5db;
            border-radius: var(--border-radius);
            font-size: 0.9rem;
            margin-bottom: 10px;
        }
        
        body.dark-mode .comment-input {
            background-color: #374151;
            border-color: #6b7280;
            color: #f3f4f6;
        }
        
        .comment-actions-form {
            display: flex;
            justify-content: flex-end;
        }
        
        .comment-submit {
            padding: 6px 12px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            font-size: 0.85rem;
            cursor: pointer;
        }
        
        .comment-submit:hover {
            background-color: var(--secondary-color);
        }
        
        .reply-form {
            margin-top: 8px;
            padding: 8px;
            background-color: #f3f4f6;
            border-radius: var(--border-radius);
        }
        
        body.dark-mode .reply-form {
            background-color: #4b5563;
        }
        
        .reply-input {
            width: 100%;
            padding: 6px 10px;
            border: 1px solid #d1d5db;
            border-radius: var(--border-radius);
            font-size: 0.85rem;
            margin-bottom: 8px;
        }
        
        body.dark-mode .reply-input {
            background-color: #374151;
            border-color: #6b7280;
            color: #f3f4f6;
        }
        
        .reply-actions-form {
            display: flex;
            justify-content: flex-end;
        }
        
        .reply-submit {
            padding: 4px 10px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            font-size: 0.8rem;
            cursor: pointer;
        }
        
        .reply-submit:hover {
            background-color: var(--secondary-color);
        }
        
        .private-message-btn {
            padding: 4px 8px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 0.75rem;
            cursor: pointer;
            margin-left: 5px;
        }
        
        .private-message-btn:hover {
            background-color: var(--secondary-color);
        }
        
        .notification-expanded {
            max-width: 400px;
            padding: 20px;
        }
        
        .notification-expanded .notification-title {
            font-size: 1.1rem;
            margin-bottom: 10px;
        }
        
        .notification-expanded .notification-message {
            font-size: 0.95rem;
            line-height: 1.5;
        }
        
        .notification-expanded .notification-link {
            margin-top: 10px;
            font-weight: 600;
        }
        
        /* File Upload Styles */
        .file-upload-container {
            margin-bottom: 20px;
        }
        
        .file-upload-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .file-upload-form {
            background-color: #f9fafb;
            border-radius: var(--border-radius);
            padding: 15px;
            margin-bottom: 15px;
        }
        
        body.dark-mode .file-upload-form {
            background-color: #4b5563;
        }
        
        .file-input-wrapper {
            position: relative;
            overflow: hidden;
            display: inline-block;
            cursor: pointer;
            background-color: var(--primary-color);
            color: white;
            padding: 10px 20px;
            border-radius: var(--border-radius);
            transition: var(--transition);
        }
        
        .file-input-wrapper:hover {
            background-color: var(--secondary-color);
        }
        
        .file-input-wrapper input[type=file] {
            position: absolute;
            left: 0;
            top: 0;
            opacity: 0;
            cursor: pointer;
        }
        
        .file-chosen {
            margin-top: 10px;
            font-size: 0.9rem;
            color: #6b7280;
        }
        
        body.dark-mode .file-chosen {
            color: #9ca3af;
        }
        
        /* Chat Page Styles */
        .chat-page {
            display: none;
            flex-direction: column;
            height: calc(100vh - 80px);
        }
        
        .chat-header {
            background-color: var(--primary-color);
            color: white;
            padding: 15px;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .chat-back-btn {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            font-size: 1.2rem;
        }
        
        .chat-recipient {
            font-weight: 600;
        }
        
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 15px;
            background-color: #f9fafb;
        }
        
        body.dark-mode .chat-messages {
            background-color: #1f2937;
        }
        
        .chat-message {
            margin-bottom: 15px;
            display: flex;
            flex-direction: column;
        }
        
        .chat-message.sent {
            align-items: flex-end;
        }
        
        .chat-message.received {
            align-items: flex-start;
        }
        
        .message-bubble {
            max-width: 70%;
            padding: 10px 15px;
            border-radius: var(--border-radius);
            word-wrap: break-word;
        }
        
        .chat-message.sent .message-bubble {
            background-color: var(--primary-color);
            color: white;
            border-bottom-right-radius: 0;
        }
        
        .chat-message.received .message-bubble {
            background-color: white;
            color: var(--dark-color);
            border-bottom-left-radius: 0;
        }
        
        body.dark-mode .chat-message.received .message-bubble {
            background-color: #374151;
            color: #f3f4f6;
        }
        
        .message-time {
            font-size: 0.7rem;
            color: #9ca3af;
            margin-top: 5px;
        }
        
        .chat-input-container {
            padding: 15px;
            background-color: white;
            border-top: 1px solid #e5e7eb;
            display: flex;
            gap: 10px;
        }
        
        body.dark-mode .chat-input-container {
            background-color: #374151;
            border-top-color: #4b5563;
        }
        
        .chat-input {
            flex: 1;
            padding: 10px 15px;
            border: 1px solid #d1d5db;
            border-radius: var(--border-radius);
            font-size: 1rem;
        }
        
        body.dark-mode .chat-input {
            background-color: #4b5563;
            border-color: #6b7280;
            color: #f3f4f6;
        }
        
        .chat-send-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            padding: 0 20px;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .chat-send-btn:hover {
            background-color: var(--secondary-color);
        }
        
        /* Dashboard Stats */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 20px;
            text-align: center;
            transition: var(--transition);
        }
        
        body.dark-mode .stat-card {
            background-color: #374151;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
        }
        
        .stat-icon {
            font-size: 2rem;
            margin-bottom: 10px;
            color: var(--primary-color);
        }
        
        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 5px;
        }
        
        .stat-label {
            color: #6b7280;
            font-size: 0.9rem;
        }
        
        body.dark-mode .stat-label {
            color: #9ca3af;
        }
        
        /* Recent Activity */
        .activity-item {
            display: flex;
            align-items: center;
            padding: 12px;
            border-bottom: 1px solid #e5e7eb;
        }
        
        body.dark-mode .activity-item {
            border-bottom-color: #4b5563;
        }
        
        .activity-item:last-child {
            border-bottom: none;
        }
        
        .activity-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: #f3f4f6;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-left: 15px;
            font-size: 1.2rem;
        }
        
        body.dark-mode .activity-icon {
            background-color: #4b5563;
        }
        
        .activity-details {
            flex: 1;
        }
        
        .activity-title {
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .activity-time {
            font-size: 0.85rem;
            color: #6b7280;
        }
        
        body.dark-mode .activity-time {
            color: #9ca3af;
        }
        
        /* Language Selector */
        .language-selector {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1001;
        }
        
        .language-select {
            padding: 8px 12px;
            border: 1px solid #d1d5db;
            border-radius: var(--border-radius);
            background-color: white;
            font-size: 0.9rem;
            cursor: pointer;
        }
        
        body.dark-mode .language-select {
            background-color: #374151;
            border-color: #6b7280;
            color: #f3f4f6;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header-content {
                flex-direction: column;
                gap: 15px;
            }
            
            .nav-links {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .grid {
                grid-template-columns: 1fr;
            }
            
            .ai-chat {
                width: 90%;
                right: 5%;
            }
            
            .login-container {
                margin: 20px auto;
            }
            
            body.logged-in {
                padding-right: 0;
            }
            
            .sidebar {
                width: 100%;
                height: 60px;
                top: auto;
                bottom: 0;
                right: 0;
                flex-direction: row;
                padding-top: 0;
                padding: 0 10px;
                justify-content: space-around;
            }
            
            .sidebar-icon {
                margin-bottom: 0;
                margin-right: 0;
            }
            
            .add-menu {
                bottom: 70px;
                right: 10px;
                left: auto;
            }
            
            .notifications-panel {
                width: 90%;
                right: 5%;
                top: auto;
                bottom: 70px;
                max-height: 300px;
            }
            
            .notification {
                max-width: 300px;
            }
            
            .chat-page {
                height: calc(100vh - 60px);
            }
            
            .message-bubble {
                max-width: 85%;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .language-selector {
                position: relative;
                top: auto;
                left: auto;
                margin-bottom: 10px;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <!-- Language Selector -->
    <div class="language-selector">
        <select class="language-select" id="language-select">
            <option value="ar">العربية</option>
            <option value="en">English</option>
        </select>
    </div>
    
    <!-- Header -->
    <header class="header">
        <div class="container header-content">
            <div class="logo">
                <i class="fas fa-bolt"></i>
                <span data-i18n="app-title">EGAS</span>
            </div>
            <div class="user-info">
                <span id="user-name" data-i18n="user">مستخدم</span>
                <div class="user-avatar" id="user-avatar">م</div>
            </div>
        </div>
    </header>
    
    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-icon active" id="sidebar-home">
            <i class="fas fa-home"></i>
            <span class="sidebar-tooltip" data-i18n="home">الرئيسية</span>
        </div>
        <div class="sidebar-icon" id="sidebar-notifications">
            <i class="fas fa-bell"></i>
            <span class="sidebar-tooltip" data-i18n="notifications">الإشعارات</span>
            <span class="notification-badge" id="notification-count">3</span>
        </div>
        <div class="sidebar-icon" id="sidebar-settings">
            <i class="fas fa-cog"></i>
            <span class="sidebar-tooltip" data-i18n="settings">الإعدادات</span>
        </div>
        <div class="sidebar-icon" id="sidebar-profile">
            <i class="fas fa-user"></i>
            <span class="sidebar-tooltip" data-i18n="profile">الصفحة الشخصية</span>
        </div>
        <div class="sidebar-icon" id="sidebar-add">
            <i class="fas fa-plus"></i>
            <span class="sidebar-tooltip" data-i18n="add">إضافة</span>
        </div>
        <div class="sidebar-icon" id="sidebar-logout">
            <i class="fas fa-sign-out-alt"></i>
            <span class="sidebar-tooltip" data-i18n="logout">تسجيل الخروج</span>
        </div>
    </div>
    
    <!-- Add Menu Dropdown -->
    <div class="add-menu" id="add-menu">
        <div class="add-menu-item" id="add-file-upload">
            <i class="fas fa-cloud-upload-alt"></i>
            <span data-i18n="upload-files">رفع الملفات</span>
        </div>
        <div class="add-menu-item" id="add-post">
            <i class="fas fa-edit"></i>
            <span data-i18n="create-post">إنشاء منشور</span>
        </div>
        <div class="add-menu-item" id="add-department-message">
            <i class="fas fa-comments"></i>
            <span data-i18n="dept-communication">التواصل بين الإدارات</span>
        </div>
    </div>
    
    <!-- Notifications Panel -->
    <div class="notifications-panel" id="notifications-panel">
        <div class="notifications-header">
            <h3 id="notifications-title" data-i18n="notifications">الإشعارات</h3>
            <span id="notifications-close" style="cursor: pointer;">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div class="notifications-body" id="notifications-body">
            <div class="notification-item" data-id="1">
                <div class="notification-title" data-i18n="new-meeting">اجتماع جديد</div>
                <div class="notification-message" data-i18n="meeting-message">تم تحديد اجتماع مع إدارة الموارد البشرية يوم الخميس الساعة 10 صباحاً</div>
                <div class="notification-time">منذ ساعتين</div>
            </div>
            <div class="notification-item" data-id="2">
                <div class="notification-title" data-i18n="task-reminder">تذكير بمهمة</div>
                <div class="notification-message" data-i18n="task-message">الموعد النهائي لتقديم تقرير الأداء غداً</div>
                <div class="notification-time">منذ 5 ساعات</div>
            </div>
            <div class="notification-item" data-id="3">
                <div class="notification-title" data-i18n="new-message">رسالة جديدة</div>
                <div class="notification-message" data-i18n="message-info">لديك رسالة جديدة من إدارة تقنية المعلومات</div>
                <div class="notification-time">منذ يوم</div>
            </div>
        </div>
    </div>
    
    <!-- Main Content -->
    <main class="container" id="main-content">
        <!-- Login Section -->
        <div id="login-section">
            <div class="login-container">
                <div class="login-header">
                    <h1 id="login-title" data-i18n="login">تسجيل الدخول</h1>
                    <p id="login-subtitle" data-i18n="welcome">مرحباً بك في تطبيق إيجاس</p>
                </div>
                
                <div class="login-form">
                    <form id="login-form">
                        <div class="form-group">
                            <label class="form-label" id="username-label" data-i18n="username">اسم المستخدم</label>
                            <input type="text" class="form-input" id="username" data-i18n-placeholder="enter-username" placeholder="أدخل اسم المستخدم">
                        </div>
                        <div class="form-group">
                            <label class="form-label" id="password-label" data-i18n="password">كلمة المرور</label>
                            <input type="password" class="form-input" id="password" data-i18n-placeholder="enter-password" placeholder="أدخل كلمة المرور">
                        </div>
                        <button type="submit" class="btn btn-primary" id="login-btn" data-i18n="login">تسجيل الدخول</button>
                        
                        <div class="login-options">
                            <a href="#" id="forgot-password-link" data-i18n="forgot-password">نسيت كلمة المرور؟</a>
                            <a href="#" id="register-link" data-i18n="register">إنشاء حساب جديد</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        
        <!-- Department Selection -->
        <div id="department-selection" class="card hidden">
            <button class="btn btn-back" id="back-to-login">
                <i class="fas fa-arrow-right"></i> <span id="back-text" data-i18n="back">رجوع</span>
            </button>
            <div class="card-header">
                <h2 class="card-title" id="department-title" data-i18n="select-department">اختر الإدارة التابعة لك</h2>
            </div>
            <div class="grid">
                <div class="card department-card" data-dept="1">
                    <h3 id="dept1-title" data-i18n="dept1">نظم المعلومات والاتصالات</h3>
                    <p id="dept1-desc" data-i18n="dept1-desc">الإدارة المسؤولة عن الأنظمة التقنية والشبكات</p>
                </div>
                <div class="card department-card" data-dept="2">
                    <h3 id="dept2-title" data-i18n="dept2">حماية البيئة</h3>
                    <p id="dept2-desc" data-i18n="dept2-desc">الإدارة المسؤولة عن حماية البيئة</p>
                </div>
                <div class="card department-card" data-dept="3">
                    <h3 id="dept3-title" data-i18n="dept3">أنشطة المسؤولية المجتمعية</h3>
                    <p id="dept3-desc" data-i18n="dept3-desc">الإدارة المسؤولة عن الأنشطة المجتمعية</p>
                </div>
                <div class="card department-card" data-dept="4">
                    <h3 id="dept4-title" data-i18n="dept4">المكتب الفني والمشاريع الخاصة</h3>
                    <p id="dept4-desc" data-i18n="dept4-desc">الإدارة المسؤولة عن المشاريع الخاصة</p>
                </div>
                <div class="card department-card" data-dept="5">
                    <h3 id="dept5-title" data-i18n="dept5">المراجعة والمتابعة</h3>
                    <p id="dept5-desc" data-i18n="dept5-desc">الإدارة المسؤولة عن المراجعة والمتابعة</p>
                </div>
                <div class="card department-card" data-dept="6">
                    <h3 id="dept6-title" data-i18n="dept6">العلاقات العامة</h3>
                    <p id="dept6-desc" data-i18n="dept6-desc">الإدارة المسؤولة عن العلاقات العامة</p>
                </div>
                <div class="card department-card" data-dept="7">
                    <h3 id="dept7-title" data-i18n="dept7">العلاقات الدولية</h3>
                    <p id="dept7-desc" data-i18n="dept7-desc">الإدارة المسؤولة عن العلاقات الدولية</p>
                </div>
                <div class="card department-card" data-dept="8">
                    <h3 id="dept8-title" data-i18n="dept8">العلاقات الحكومية</h3>
                    <p id="dept8-desc" data-i18n="dept8-desc">الإدارة المسؤولة عن العلاقات الحكومية</p>
                </div>
                <div class="card department-card" data-dept="9">
                    <h3 id="dept9-title" data-i18n="dept9">العقود</h3>
                    <p id="dept9-desc" data-i18n="dept9-desc">الإدارة المسؤولة عن العقود</p>
                </div>
                <div class="card department-card" data-dept="10">
                    <h3 id="dept10-title" data-i18n="dept10">الشؤون الطبية والعلاجية</h3>
                    <p id="dept10-desc" data-i18n="dept10-desc">الإدارة المسؤولة عن الشؤون الطبية</p>
                </div>
                <div class="card department-card" data-dept="11">
                    <h3 id="dept11-title" data-i18n="dept11">السلامة والصحة المهنية</h3>
                    <p id="dept11-desc" data-i18n="dept11-desc">الإدارة المسؤولة عن السلامة المهنية</p>
                </div>
                <div class="card department-card restricted-department" data-dept="12">
                    <span class="restricted-badge" data-i18n="restricted">مقيدة</span>
                    <h3 id="dept12-title" data-i18n="dept12">الأمن</h3>
                    <p id="dept12-desc" data-i18n="dept12-desc">الإدارة المسؤولة عن الأمن</p>
                </div>
                <div class="card department-card restricted-department" data-dept="13">
                    <span class="restricted-badge" data-i18n="restricted">مقيدة</span>
                    <h3 id="dept13-title" data-i18n="dept13">الأمانة العامة لمجلس الإدارة</h3>
                    <p id="dept13-desc" data-i18n="dept13-desc">الإدارة المسؤولة عن مجلس الإدارة</p>
                </div>
                <div class="card department-card" data-dept="14">
                    <h3 id="dept14-title" data-i18n="dept14">الإعلام</h3>
                    <p id="dept14-desc" data-i18n="dept14-desc">الإدارة المسؤولة عن الإعلام</p>
                </div>
                <div class="card department-card" data-dept="15">
                    <h3 id="dept15-title" data-i18n="dept15">الاستراتيجيات ودعم اتخاذ القرار</h3>
                    <p id="dept15-desc" data-i18n="dept15-desc">الإدارة المسؤولة عن الاستراتيجيات</p>
                </div>
                <div class="card department-card" data-dept="16">
                    <h3 id="dept16-title" data-i18n="dept16">تحول الطاقة والاستدامة</h3>
                    <p id="dept16-desc" data-i18n="dept16-desc">الإدارة المسؤولة عن تحول الطاقة</p>
                </div>
                <div class="card department-card" data-dept="17">
                    <h3 id="dept17-title" data-i18n="dept17">العمليات والشبكات</h3>
                    <p id="dept17-desc" data-i18n="dept17-desc">الإدارة المسؤولة عن العمليات</p>
                </div>
                <div class="card department-card" data-dept="18">
                    <h3 id="dept18-title" data-i18n="dept18">الشؤون المالية</h3>
                    <p id="dept18-desc" data-i18n="dept18-desc">الإدارة المسؤولة عن الشؤون المالية</p>
                </div>
                <div class="card department-card" data-dept="19">
                    <h3 id="dept19-title" data-i18n="dept19">الشؤون القانونية</h3>
                    <p id="dept19-desc" data-i18n="dept19-desc">الإدارة المسؤولة عن الشؤون القانونية</p>
                </div>
                <div class="card department-card" data-dept="20">
                    <h3 id="dept20-title" data-i18n="dept20">الشؤون الإدارية</h3>
                    <p id="dept20-desc" data-i18n="dept20-desc">الإدارة المسؤولة عن الشؤون الإدارية</p>
                </div>
                <div class="card department-card" data-dept="21">
                    <h3 id="dept21-title" data-i18n="dept21">الرقابة على شركات الأجنبي</h3>
                    <p id="dept21-desc" data-i18n="dept21-desc">الإدارة المسؤولة عن الرقابة</p>
                </div>
                <div class="card department-card" data-dept="22">
                    <h3 id="dept22-title" data-i18n="dept22">التخطيط ومشاريع الغاز</h3>
                    <p id="dept22-desc" data-i18n="dept22-desc">الإدارة المسؤولة عن تخطيط مشاريع الغاز</p>
                </div>
                <div class="card department-card" data-dept="23">
                    <h3 id="dept23-title" data-i18n="dept23">الإدارة الداخلية في شؤون الاقتصاد</h3>
                    <p id="dept23-desc" data-i18n="dept23-desc">الإدارة المسؤولة عن الشؤون الاقتصادية</p>
                </div>
                <div class="card department-card" data-dept="24">
                    <h3 id="dept24-title" data-i18n="dept24">الموارد البشرية</h3>
                    <p id="dept24-desc" data-i18n="dept24-desc">الإدارة المسؤولة عن الموارد البشرية</p>
                </div>
            </div>
        </div>
        
        <!-- Dashboard Section -->
        <div id="dashboard-section" class="hidden">
            <!-- Home Section -->
            <div id="home-section">
                <div class="dashboard-section">
                    <h2 class="section-title">
                        <i class="fas fa-home"></i>
                        <span data-i18n="home">الصفحة الرئيسية</span>
                    </h2>
                    
                    <!-- Stats Cards -->
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-file-alt"></i>
                            </div>
                            <div class="stat-value">24</div>
                            <div class="stat-label" data-i18n="files">ملفات</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-tasks"></i>
                            </div>
                            <div class="stat-value">12</div>
                            <div class="stat-label" data-i18n="tasks">مهام</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-comments"></i>
                            </div>
                            <div class="stat-value">8</div>
                            <div class="stat-label" data-i18n="messages">رسائل</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-calendar-check"></i>
                            </div>
                            <div class="stat-value">3</div>
                            <div class="stat-label" data-i18n="meetings">اجتماعات</div>
                        </div>
                    </div>
                    
                    <!-- Recent Activity -->
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title" data-i18n="recent-activity">النشاط الأخير</h3>
                        </div>
                        <div class="activity-list">
                            <div class="activity-item">
                                <div class="activity-icon">
                                    <i class="fas fa-file-upload"></i>
                                </div>
                                <div class="activity-details">
                                    <div class="activity-title" data-i18n="file-uploaded">تم رفع ملف جديد</div>
                                    <div class="activity-time">منذ ساعتين</div>
                                </div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-icon">
                                    <i class="fas fa-comment"></i>
                                </div>
                                <div class="activity-details">
                                    <div class="activity-title" data-i18n="new-comment">تعليق جديد على منشورك</div>
                                    <div class="activity-time">منذ 5 ساعات</div>
                                </div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-icon">
                                    <i class="fas fa-calendar"></i>
                                </div>
                                <div class="activity-details">
                                    <div class="activity-title" data-i18n="new-meeting">تم تحديد اجتماع جديد</div>
                                    <div class="activity-time">منذ يوم</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- File Upload Section -->
            <div id="file-upload-section" class="hidden">
                <div class="dashboard-section">
                    <h2 class="section-title">
                        <i class="fas fa-cloud-upload-alt"></i>
                        <span data-i18n="upload-files">رفع الملفات</span>
                    </h2>
                    <div class="card">
                        <div class="file-upload-header">
                            <h3 class="card-title" data-i18n="file-management">إدارة الملفات</h3>
                            <button class="btn btn-primary" id="upload-file-btn">
                                <i class="fas fa-plus"></i> <span data-i18n="upload-files">رفع الملفات</span>
                            </button>
                        </div>
                        
                        <!-- File Upload Form (Hidden by default) -->
                        <div id="file-upload-form" class="file-upload-form hidden">
                            <div class="form-group">
                                <label class="form-label" data-i18n="choose-file">اختر ملف</label>
                                <div class="file-input-wrapper">
                                    <input type="file" id="file-input">
                                    <span data-i18n="choose-file">اختر ملف</span>
                                </div>
                                <div class="file-chosen" id="file-chosen">No file chosen</div>
                            </div>
                            <div class="form-group">
                                <label class="form-label" data-i18n="file-description">وصف الملف</label>
                                <input type="text" class="form-input" id="file-description" data-i18n-placeholder="enter-description" placeholder="أدخل وصفاً للملف">
                            </div>
                            <button class="btn btn-success" id="upload-btn" data-i18n="upload">رفع الملف</button>
                        </div>
                        
                        <!-- Uploaded Files List -->
                        <div id="uploaded-files">
                            <h4 class="card-title" data-i18n="your-files">ملفاتك المرفوعة</h4>
                            <div class="file-item">
                                <div class="file-icon">
                                    <i class="fas fa-file-pdf"></i>
                                </div>
                                <div class="file-details">
                                    <div class="file-name" data-i18n="monthly-report">تقرير الأداء الشهري</div>
                                    <div class="file-meta">PDF • 1.8 MB • <span data-i18n="added">تم الإضافة</span>: 15/05/2023</div>
                                </div>
                            </div>
                            <div class="file-item">
                                <div class="file-icon">
                                    <i class="fas fa-file-excel"></i>
                                </div>
                                <div class="file-details">
                                    <div class="file-name" data-i18n="weekly-tasks">جدول المهام الأسبوعي</div>
                                    <div class="file-meta">XLSX • 0.7 MB • <span data-i18n="added">تم الإضافة</span>: 10/05/2023</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Create Post Section -->
            <div id="create-post-section" class="hidden">
                <div class="dashboard-section">
                    <h2 class="section-title">
                        <i class="fas fa-edit"></i>
                        <span data-i18n="create-post">إنشاء منشور</span>
                    </h2>
                    <div class="card">
                        <form id="create-post-form">
                            <div class="form-group">
                                <label class="form-label" data-i18n="post-title">عنوان المنشور</label>
                                <input type="text" class="form-input" id="post-title" data-i18n-placeholder="enter-title" placeholder="أدخل عنوان المنشور">
                            </div>
                            <div class="form-group">
                                <label class="form-label" data-i18n="post-content">محتوى المنشور</label>
                                <textarea class="form-input" id="post-content" rows="4" data-i18n-placeholder="enter-content" placeholder="أدخل محتوى المنشور"></textarea>
                            </div>
                            <button type="submit" class="btn btn-primary" data-i18n="publish">نشر المنشور</button>
                        </form>
                    </div>
                </div>
            </div>
            
            <!-- Department Communication Section -->
            <div id="department-communication-section" class="hidden">
                <div class="dashboard-section">
                    <h2 class="section-title">
                        <i class="fas fa-comments"></i>
                        <span data-i18n="dept-communication">التواصل بين الإدارات</span>
                    </h2>
                    <div class="card">
                        <form id="department-message-form">
                            <div class="form-group">
                                <label class="form-label" data-i18n="select-dept">اختر الإدارة</label>
                                <select class="form-input" id="department-select">
                                    <option value="" data-i18n="choose-dept">-- اختر الإدارة --</option>
                                    <option value="1" data-i18n="dept1">نظم المعلومات والاتصالات</option>
                                    <option value="2" data-i18n="dept2">حماية البيئة</option>
                                    <option value="3" data-i18n="dept3">أنشطة المسؤولية المجتمعية</option>
                                    <option value="4" data-i18n="dept4">المكتب الفني والمشاريع الخاصة</option>
                                    <option value="5" data-i18n="dept5">المراجعة والمتابعة</option>
                                    <option value="6" data-i18n="dept6">العلاقات العامة</option>
                                    <option value="7" data-i18n="dept7">العلاقات الدولية</option>
                                    <option value="8" data-i18n="dept8">العلاقات الحكومية</option>
                                    <option value="9" data-i18n="dept9">العقود</option>
                                    <option value="10" data-i18n="dept10">الشؤون الطبية والعلاجية</option>
                                    <option value="11" data-i18n="dept11">السلامة والصحة المهنية</option>
                                    <option value="14" data-i18n="dept14">الإعلام</option>
                                    <option value="15" data-i18n="dept15">الاستراتيجيات ودعم اتخاذ القرار</option>
                                    <option value="16" data-i18n="dept16">تحول الطاقة والاستدامة</option>
                                    <option value="17" data-i18n="dept17">العمليات والشبكات</option>
                                    <option value="18" data-i18n="dept18">الشؤون المالية</option>
                                    <option value="19" data-i18n="dept19">الشؤون القانونية</option>
                                    <option value="20" data-i18n="dept20">الشؤون الإدارية</option>
                                    <option value="21" data-i18n="dept21">الرقابة على شركات الأجنبي</option>
                                    <option value="22" data-i18n="dept22">التخطيط ومشاريع الغاز</option>
                                    <option value="23" data-i18n="dept23">الإدارة الداخلية في شؤون الاقتصاد</option>
                                    <option value="24" data-i18n="dept24">الموارد البشرية</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label" data-i18n="message-content">محتوى الرسالة</label>
                                <textarea class="form-input" id="message-content" rows="4" data-i18n-placeholder="enter-message" placeholder="أدخل محتوى الرسالة"></textarea>
                            </div>
                            <button type="submit" class="btn btn-primary" data-i18n="send">إرسال الرسالة</button>
                        </form>
                    </div>
                </div>
            </div>
            
            <!-- Posts and Messages Section -->
            <div id="posts-section" class="hidden">
                <div class="dashboard-section">
                    <h2 class="section-title">
                        <i class="fas fa-newspaper"></i>
                        <span data-i18n="posts-messages">المنشورات والرسائل</span>
                    </h2>
                    
                    <!-- Department Filter -->
                    <div class="department-filter">
                        <div class="filter-header">
                            <h3 class="card-title" data-i18n="filter-dept">تصفية حسب الإدارة</h3>
                            <button class="btn btn-secondary filter-reset" id="reset-filter" data-i18n="reset">إعادة تعيين</button>
                        </div>
                        <div class="filter-options">
                            <div class="filter-option active" data-dept="all" data-i18n="all-depts">جميع الإدارات</div>
                            <div class="filter-option" data-dept="1" data-i18n="dept1">نظم المعلومات والاتصالات</div>
                            <div class="filter-option" data-dept="18" data-i18n="dept18">الشؤون المالية</div>
                            <div class="filter-option" data-dept="24" data-i18n="dept24">الموارد البشرية</div>
                        </div>
                    </div>
                    
                    <!-- Posts List -->
                    <div id="posts-list">
                        <div class="post-item" data-dept="1">
                            <div class="post-header">
                                <div>
                                    <div class="post-author">أحمد محمد</div>
                                    <div class="post-department" data-i18n="dept1">نظم المعلومات والاتصالات</div>
                                </div>
                                <div class="post-date">15/05/2023</div>
                            </div>
                            <div class="post-content" data-i18n="post1-content">
                                يرجى جميع الموظفين تقديم تقارير الأداء الشهرية نهاية هذا الأسبوع.
                            </div>
                            <div class="post-actions">
                                <span class="post-action">
                                    <i class="fas fa-heart"></i> 12 <span data-i18n="likes">إعجاب</span>
                                </span>
                                <span class="post-action">
                                    <i class="fas fa-comment"></i> 3 <span data-i18n="comments">تعليقات</span>
                                </span>
                                <button class="private-message-btn" data-author="أحمد محمد" data-dept="نظم المعلومات والاتصالات">
                                    <i class="fas fa-envelope"></i> <span data-i18n="private-message">رسالة خاصة</span>
                                </button>
                            </div>
                            
                            <div class="comments-section">
                                <div class="comment-item">
                                    <div class="comment-author">مريم يوسف</div>
                                    <div class="comment-content" data-i18n="comment1-content">
                                        متى ستكون الورشة؟ وهل ستكون متاحة لجميع الإدارات؟
                                    </div>
                                    <div class="comment-actions">
                                        <span class="comment-action" data-i18n="like">إعجاب</span>
                                        <span class="comment-action" data-i18n="reply">رد</span>
                                        <button class="private-message-btn" data-author="مريم يوسف" data-dept="الشؤون المالية">
                                            <i class="fas fa-envelope"></i> <span data-i18n="private-message">رسالة خاصة</span>
                                        </button>
                                    </div>
                                    
                                    <div class="replies-section">
                                        <div class="reply-item">
                                            <div class="comment-author">أحمد محمد</div>
                                            <div class="comment-content" data-i18n="reply1-content">
                                                الورشة ستكون يوم الأربعاء القادم ومتاحة للجميع
                                            </div>
                                            <div class="comment-actions">
                                                <span class="comment-action" data-i18n="like">إعجاب</span>
                                                <button class="private-message-btn" data-author="أحمد محمد" data-dept="نظم المعلومات والاتصالات">
                                                    <i class="fas fa-envelope"></i> <span data-i18n="private-message">رسالة خاصة</span>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="comment-form">
                                    <input type="text" class="comment-input" data-i18n-placeholder="add-comment" placeholder="أضف تعليقاً...">
                                    <div class="comment-actions-form">
                                        <button class="comment-submit" data-i18n="publish">نشر</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="post-item" data-dept="18">
                            <div class="post-header">
                                <div>
                                    <div class="post-author">خالد سالم</div>
                                    <div class="post-department" data-i18n="dept18">الشؤون المالية</div>
                                </div>
                                <div class="post-date">12/05/2023</div>
                            </div>
                            <div class="post-content" data-i18n="post2-content">
                                إعلان عن ورشة عمل جديدة حول إدارة الميزانيات للإدارات المختلفة.
                            </div>
                            <div class="post-actions">
                                <span class="post-action">
                                    <i class="fas fa-heart"></i> 24 <span data-i18n="likes">إعجاب</span>
                                </span>
                                <span class="post-action">
                                    <i class="fas fa-comment"></i> 7 <span data-i18n="comments">تعليقات</span>
                                </span>
                                <button class="private-message-btn" data-author="خالد سالم" data-dept="الشؤون المالية">
                                    <i class="fas fa-envelope"></i> <span data-i18n="private-message">رسالة خاصة</span>
                                </button>
                            </div>
                            
                            <div class="comments-section">
                                <div class="comment-item">
                                    <div class="comment-author">سارة أحمد</div>
                                    <div class="comment-content" data-i18n="comment2-content">
                                        هل يمكنني الحصول على تفاصيل أكثر عن موعد الورشة؟
                                    </div>
                                    <div class="comment-actions">
                                        <span class="comment-action" data-i18n="like">إعجاب</span>
                                        <span class="comment-action" data-i18n="reply">رد</span>
                                        <button class="private-message-btn" data-author="سارة أحمد" data-dept="الموارد البشرية">
                                            <i class="fas fa-envelope"></i> <span data-i18n="private-message">رسالة خاصة</span>
                                        </button>
                                    </div>
                                </div>
                                
                                <div class="comment-form">
                                    <input type="text" class="comment-input" data-i18n-placeholder="add-comment" placeholder="أضف تعليقاً...">
                                    <div class="comment-actions-form">
                                        <button class="comment-submit" data-i18n="publish">نشر</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Settings Section -->
            <div id="settings-section" class="hidden">
                <div class="dashboard-section">
                    <h2 class="section-title">
                        <i class="fas fa-cog"></i>
                        <span data-i18n="settings">الإعدادات</span>
                    </h2>
                    <div class="settings-panel">
                        <div class="settings-group">
                            <h3 class="settings-title" data-i18n="general-settings">الإعدادات العامة</h3>
                            <div class="settings-option">
                                <div data-i18n="dark-mode">الوضع الليلي</div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="dark-mode-toggle">
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <div class="settings-option">
                                <div data-i18n="notifications">الإشعارات</div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="notifications-toggle" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <div class="settings-option">
                                <div data-i18n="sound">الصوت</div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="sound-toggle" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="settings-group">
                            <h3 class="settings-title" data-i18n="language">اللغة</h3>
                            <div class="settings-option">
                                <div data-i18n="current-language">اللغة الحالية</div>
                                <div id="current-language-display">العربية</div>
                            </div>
                            <div class="settings-option">
                                <div data-i18n="change-language">تغيير اللغة</div>
                                <select class="form-input" id="settings-language-select" style="width: auto;">
                                    <option value="ar">العربية</option>
                                    <option value="en">English</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="settings-group">
                            <h3 class="settings-title" data-i18n="privacy">الخصوصية</h3>
                            <div class="settings-option">
                                <div data-i18n="profile-visibility">رؤية الملف الشخصي</div>
                                <select class="form-input" style="width: auto;">
                                    <option value="everyone" data-i18n="everyone">الجميع</option>
                                    <option value="friends" data-i18n="friends-only">الأصدقاء فقط</option>
                                    <option value="private" data-i18n="private">خاص</option>
                                </select>
                            </div>
                            <div class="settings-option">
                                <div data-i18n="private-messages">الرسائل الخاصة</div>
                                <select class="form-input" style="width: auto;">
                                    <option value="everyone" data-i18n="everyone">الجميع</option>
                                    <option value="friends" data-i18n="friends-only">الأصدقاء فقط</option>
                                    <option value="no-one" data-i18n="no-one">لا أحد</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Profile Section -->
            <div id="profile-section" class="hidden">
                <div class="dashboard-section">
                    <h2 class="section-title">
                        <i class="fas fa-user"></i>
                        <span data-i18n="profile">الصفحة الشخصية</span>
                    </h2>
                    <div class="profile-section">
                        <div class="profile-avatar" id="profile-avatar">م</div>
                        <div class="profile-name" id="profile-name">محمد أحمد</div>
                        <div class="profile-role" id="profile-role">موظف في إدارة نظم المعلومات والاتصالات</div>
                        
                        <div class="profile-stats">
                            <div class="profile-stat">
                                <div class="profile-stat-value">24</div>
                                <div class="profile-stat-label" data-i18n="files">ملف</div>
                            </div>
                            <div class="profile-stat">
                                <div class="profile-stat-value">12</div>
                                <div class="profile-stat-label" data-i18n="tasks">مهمة</div>
                            </div>
                            <div class="profile-stat">
                                <div class="profile-stat-value">8</div>
                                <div class="profile-stat-label" data-i18n="messages">رسالة</div>
                            </div>
                        </div>
                        
                        <button class="btn btn-primary" data-i18n="edit-profile">تعديل الملف الشخصي</button>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title" data-i18n="personal-info">المعلومات الشخصية</h3>
                        </div>
                        <div class="form-group">
                            <label class="form-label" data-i18n="full-name">الاسم الكامل</label>
                            <input type="text" class="form-input" value="محمد أحمد">
                        </div>
                        <div class="form-group">
                            <label class="form-label" data-i18n="email">البريد الإلكتروني</label>
                            <input type="email" class="form-input" value="mohamed@example.com">
                        </div>
                        <div class="form-group">
                            <label class="form-label" data-i18n="phone">رقم الهاتف</label>
                            <input type="tel" class="form-input" value="0123456789">
                        </div>
                        <div class="form-group">
                            <label class="form-label" data-i18n="department">الإدارة</label>
                            <input type="text" class="form-input" value="نظم المعلومات والاتصالات" readonly>
                        </div>
                        <button class="btn btn-primary" data-i18n="save-changes">حفظ التغييرات</button>
                    </div>
                </div>
            </div>
        </div>
    </main>
    
    <!-- Chat Page -->
    <div class="chat-page" id="chat-page">
        <div class="chat-header">
            <button class="chat-back-btn" id="chat-back-btn">
                <i class="fas fa-arrow-right"></i>
            </button>
            <div class="chat-recipient" id="chat-recipient-name">اسم المستلم</div>
            <div class="chat-department" id="chat-recipient-dept">القسم</div>
        </div>
        
        <div class="chat-messages" id="chat-messages">
            <!-- Messages will be displayed here -->
        </div>
        
        <div class="chat-input-container">
            <input type="text" class="chat-input" id="chat-input" data-i18n-placeholder="type-message" placeholder="اكتب رسالتك...">
            <button class="chat-send-btn" id="chat-send-btn">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
    </div>
    
    <!-- AI Assistant -->
    <div class="ai-assistant" id="ai-assistant">
        <i class="fas fa-robot"></i>
    </div>
    
    <div class="ai-chat" id="ai-chat">
        <div class="ai-chat-header">
            <h3 data-i18n="ai-assistant">المساعد الذكي</h3>
            <span class="ai-chat-close" id="ai-chat-close">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div class="ai-chat-body" id="ai-chat-body">
            <div class="ai-message ai" data-i18n="ai-welcome">مرحباً! كيف يمكنني مساعدتك اليوم؟</div>
        </div>
        <div class="ai-chat-footer">
            <input type="text" class="form-input" id="ai-input" data-i18n-placeholder="ask-question" placeholder="اكتب سؤالك...">
            <button class="btn btn-primary" id="ai-send-btn" data-i18n="send">إرسال</button>
        </div>
    </div>
    
    <!-- Notification -->
    <div class="notification" id="notification">
        <div class="notification-content">
            <div class="notification-title" id="notification-title" data-i18n="success">تم بنجاح</div>
            <div class="notification-message" id="notification-message" data-i18n="operation-success">تمت العملية بنجاح</div>
        </div>
    </div>
    
    <script>
        // Translation dictionary
        const translations = {
            'ar': {
                'app-title': 'EGAS',
                'user': 'مستخدم',
                'home': 'الرئيسية',
                'notifications': 'الإشعارات',
                'settings': 'الإعدادات',
                'profile': 'الصفحة الشخصية',
                'add': 'إضافة',
                'logout': 'تسجيل الخروج',
                'upload-files': 'رفع الملفات',
                'create-post': 'إنشاء منشور',
                'dept-communication': 'التواصل بين الإدارات',
                'new-meeting': 'اجتماع جديد',
                'meeting-message': 'تم تحديد اجتماع مع إدارة الموارد البشرية يوم الخميس الساعة 10 صباحاً',
                'task-reminder': 'تذكير بمهمة',
                'task-message': 'الموعد النهائي لتقديم تقرير الأداء غداً',
                'new-message': 'رسالة جديدة',
                'message-info': 'لديك رسالة جديدة من إدارة تقنية المعلومات',
                'login': 'تسجيل الدخول',
                'welcome': 'مرحباً بك في تطبيق إيجاس',
                'username': 'اسم المستخدم',
                'enter-username': 'أدخل اسم المستخدم',
                'password': 'كلمة المرور',
                'enter-password': 'أدخل كلمة المرور',
                'forgot-password': 'نسيت كلمة المرور؟',
                'register': 'إنشاء حساب جديد',
                'back': 'رجوع',
                'select-department': 'اختر الإدارة التابعة لك',
                'dept1': 'نظم المعلومات والاتصالات',
                'dept1-desc': 'الإدارة المسؤولة عن الأنظمة التقنية والشبكات',
                'dept2': 'حماية البيئة',
                'dept2-desc': 'الإدارة المسؤولة عن حماية البيئة',
                'dept3': 'أنشطة المسؤولية المجتمعية',
                'dept3-desc': 'الإدارة المسؤولة عن الأنشطة المجتمعية',
                'dept4': 'المكتب الفني والمشاريع الخاصة',
                'dept4-desc': 'الإدارة المسؤولة عن المشاريع الخاصة',
                'dept5': 'المراجعة والمتابعة',
                'dept5-desc': 'الإدارة المسؤولة عن المراجعة والمتابعة',
                'dept6': 'العلاقات العامة',
                'dept6-desc': 'الإدارة المسؤولة عن العلاقات العامة',
                'dept7': 'العلاقات الدولية',
                'dept7-desc': 'الإدارة المسؤولة عن العلاقات الدولية',
                'dept8': 'العلاقات الحكومية',
                'dept8-desc': 'الإدارة المسؤولة عن العلاقات الحكومية',
                'dept9': 'العقود',
                'dept9-desc': 'الإدارة المسؤولة عن العقود',
                'dept10': 'الشؤون الطبية والعلاجية',
                'dept10-desc': 'الإدارة المسؤولة عن الشؤون الطبية',
                'dept11': 'السلامة والصحة المهنية',
                'dept11-desc': 'الإدارة المسؤولة عن السلامة المهنية',
                'dept12': 'الأمن',
                'dept12-desc': 'الإدارة المسؤولة عن الأمن',
                'dept13': 'الأمانة العامة لمجلس الإدارة',
                'dept13-desc': 'الإدارة المسؤولة عن مجلس الإدارة',
                'dept14': 'الإعلام',
                'dept14-desc': 'الإدارة المسؤولة عن الإعلام',
                'dept15': 'الاستراتيجيات ودعم اتخاذ القرار',
                'dept15-desc': 'الإدارة المسؤولة عن الاستراتيجيات',
                'dept16': 'تحول الطاقة والاستدامة',
                'dept16-desc': 'الإدارة المسؤولة عن تحول الطاقة',
                'dept17': 'العمليات والشبكات',
                'dept17-desc': 'الإدارة المسؤولة عن العمليات',
                'dept18': 'الشؤون المالية',
                'dept18-desc': 'الإدارة المسؤولة عن الشؤون المالية',
                'dept19': 'الشؤون القانونية',
                'dept19-desc': 'الإدارة المسؤولة عن الشؤون القانونية',
                'dept20': 'الشؤون الإدارية',
                'dept20-desc': 'الإدارة المسؤولة عن الشؤون الإدارية',
                'dept21': 'الرقابة على شركات الأجنبي',
                'dept21-desc': 'الإدارة المسؤولة عن الرقابة',
                'dept22': 'التخطيط ومشاريع الغاز',
                'dept22-desc': 'الإدارة المسؤولة عن تخطيط مشاريع الغاز',
                'dept23': 'الإدارة الداخلية في شؤون الاقتصاد',
                'dept23-desc': 'الإدارة المسؤولة عن الشؤون الاقتصادية',
                'dept24': 'الموارد البشرية',
                'dept24-desc': 'الإدارة المسؤولة عن الموارد البشرية',
                'restricted': 'مقيدة',
                'files': 'ملفات',
                'tasks': 'مهام',
                'messages': 'رسائل',
                'meetings': 'اجتماعات',
                'recent-activity': 'النشاط الأخير',
                'file-uploaded': 'تم رفع ملف جديد',
                'new-comment': 'تعليق جديد على منشورك',
                'new-meeting-activity': 'تم تحديد اجتماع جديد',
                'file-management': 'إدارة الملفات',
                'choose-file': 'اختر ملف',
                'file-description': 'وصف الملف',
                'enter-description': 'أدخل وصفاً للملف',
                'upload': 'رفع الملف',
                'your-files': 'ملفاتك المرفوعة',
                'monthly-report': 'تقرير الأداء الشهري',
                'weekly-tasks': 'جدول المهام الأسبوعي',
                'added': 'تم الإضافة',
                'post-title': 'عنوان المنشور',
                'enter-title': 'أدخل عنوان المنشور',
                'post-content': 'محتوى المنشور',
                'enter-content': 'أدخل محتوى المنشور',
                'publish': 'نشر',
                'select-dept': 'اختر الإدارة',
                'choose-dept': '-- اختر الإدارة --',
                'message-content': 'محتوى الرسالة',
                'enter-message': 'أدخل محتوى الرسالة',
                'send': 'إرسال',
                'posts-messages': 'المنشورات والرسائل',
                'filter-dept': 'تصفية حسب الإدارة',
                'reset': 'إعادة تعيين',
                'all-depts': 'جميع الإدارات',
                'post1-content': 'يرجى جميع الموظفين تقديم تقارير الأداء الشهرية نهاية هذا الأسبوع.',
                'post2-content': 'إعلان عن ورشة عمل جديدة حول إدارة الميزانيات للإدارات المختلفة.',
                'likes': 'إعجاب',
                'comments': 'تعليقات',
                'private-message': 'رسالة خاصة',
                'comment1-content': 'متى ستكون الورشة؟ وهل ستكون متاحة لجميع الإدارات؟',
                'comment2-content': 'هل يمكنني الحصول على تفاصيل أكثر عن موعد الورشة؟',
                'reply1-content': 'الورشة ستكون يوم الأربعاء القادم ومتاحة للجميع',
                'add-comment': 'أضف تعليقاً...',
                'like': 'إعجاب',
                'reply': 'رد',
                'general-settings': 'الإعدادات العامة',
                'dark-mode': 'الوضع الليلي',
                'sound': 'الصوت',
                'language': 'اللغة',
                'current-language': 'اللغة الحالية',
                'change-language': 'تغيير اللغة',
                'privacy': 'الخصوصية',
                'profile-visibility': 'رؤية الملف الشخصي',
                'everyone': 'الجميع',
                'friends-only': 'الأصدقاء فقط',
                'private': 'خاص',
                'no-one': 'لا أحد',
                'personal-info': 'المعلومات الشخصية',
                'full-name': 'الاسم الكامل',
                'email': 'البريد الإلكتروني',
                'phone': 'رقم الهاتف',
                'department': 'الإدارة',
                'save-changes': 'حفظ التغييرات',
                'edit-profile': 'تعديل الملف الشخصي',
                'ai-assistant': 'المساعد الذكي',
                'ai-welcome': 'مرحباً! كيف يمكنني مساعدتك اليوم؟',
                'ask-question': 'اكتب سؤالك...',
                'type-message': 'اكتب رسالتك...',
                'success': 'تم بنجاح',
                'operation-success': 'تمت العملية بنجاح',
                'error': 'خطأ',
                'warning': 'تنبيه',
                'enter-username-password': 'يرجى إدخال اسم المستخدم وكلمة المرور',
                'enter-username': 'يرجى إدخال اسم المستخدم',
                'enter-password': 'يرجى إدخال كلمة المرور',
                'choose-file-error': 'يرجى اختيار ملف',
                'enter-title-content': 'يرجى إدخال عنوان ومحتوى المنشور',
                'select-dept-error': 'يرجى اختيار إدارة',
                'enter-message-error': 'يرجى إدخال محتوى الرسالة',
                'enter-comment': 'يرجى إدخال تعليق',
                'restricted-access': 'هذه الإدارة مقيدة ولا يمكن الوصول إليها',
                'logout-confirm': 'هل أنت متأكد من تسجيل الخروج؟',
                'logout-success': 'تم تسجيل الخروج بنجاح',
                'dark-mode-enabled': 'تم تفعيل الوضع الليلي',
                'dark-mode-disabled': 'تم إيقاف الوضع الليلي',
                'file-uploaded-success': 'تم رفع الملف بنجاح',
                'post-published': 'تم نشر المنشور بنجاح',
                'message-sent': 'تم إرسال الرسالة بنجاح',
                'comment-added': 'تم إضافة التعليق بنجاح'
            },
            'en': {
                'app-title': 'EGAS',
                'user': 'User',
                'home': 'Home',
                'notifications': 'Notifications',
                'settings': 'Settings',
                'profile': 'Profile',
                'add': 'Add',
                'logout': 'Logout',
                'upload-files': 'Upload Files',
                'create-post': 'Create Post',
                'dept-communication': 'Department Communication',
                'new-meeting': 'New Meeting',
                'meeting-message': 'A meeting has been scheduled with HR Department on Thursday at 10 AM',
                'task-reminder': 'Task Reminder',
                'task-message': 'The deadline for submitting the performance report is tomorrow',
                'new-message': 'New Message',
                'message-info': 'You have a new message from the IT Department',
                'login': 'Login',
                'welcome': 'Welcome to EGAS Application',
                'username': 'Username',
                'enter-username': 'Enter your username',
                'password': 'Password',
                'enter-password': 'Enter your password',
                'forgot-password': 'Forgot Password?',
                'register': 'Create New Account',
                'back': 'Back',
                'select-department': 'Select Your Department',
                'dept1': 'Information Systems and Communications',
                'dept1-desc': 'Department responsible for technical systems and networks',
                'dept2': 'Environmental Protection',
                'dept2-desc': 'Department responsible for environmental protection',
                'dept3': 'Corporate Social Responsibility Activities',
                'dept3-desc': 'Department responsible for community activities',
                'dept4': 'Technical Office and Special Projects',
                'dept4-desc': 'Department responsible for special projects',
                'dept5': 'Audit and Follow-up',
                'dept5-desc': 'Department responsible for audit and follow-up',
                'dept6': 'Public Relations',
                'dept6-desc': 'Department responsible for public relations',
                'dept7': 'International Relations',
                'dept7-desc': 'Department responsible for international relations',
                'dept8': 'Government Relations',
                'dept8-desc': 'Department responsible for government relations',
                'dept9': 'Contracts',
                'dept9-desc': 'Department responsible for contracts',
                'dept10': 'Medical and Therapeutic Affairs',
                'dept10-desc': 'Department responsible for medical affairs',
                'dept11': 'Occupational Safety and Health',
                'dept11-desc': 'Department responsible for occupational safety',
                'dept12': 'Security',
                'dept12-desc': 'Department responsible for security',
                'dept13': 'General Secretariat of the Board of Directors',
                'dept13-desc': 'Department responsible for the Board of Directors',
                'dept14': 'Media',
                'dept14-desc': 'Department responsible for media',
                'dept15': 'Strategies and Decision Support',
                'dept15-desc': 'Department responsible for strategies',
                'dept16': 'Energy Transition and Sustainability',
                'dept16-desc': 'Department responsible for energy transition',
                'dept17': 'Operations and Networks',
                'dept17-desc': 'Department responsible for operations',
                'dept18': 'Financial Affairs',
                'dept18-desc': 'Department responsible for financial affairs',
                'dept19': 'Legal Affairs',
                'dept19-desc': 'Department responsible for legal affairs',
                'dept20': 'Administrative Affairs',
                'dept20-desc': 'Department responsible for administrative affairs',
                'dept21': 'Control of Foreign Companies',
                'dept21-desc': 'Department responsible for control',
                'dept22': 'Planning and Gas Projects',
                'dept22-desc': 'Department responsible for planning gas projects',
                'dept23': 'Internal Administration in Economic Affairs',
                'dept23-desc': 'Department responsible for economic affairs',
                'dept24': 'Human Resources',
                'dept24-desc': 'Department responsible for human resources',
                'restricted': 'Restricted',
                'files': 'Files',
                'tasks': 'Tasks',
                'messages': 'Messages',
                'meetings': 'Meetings',
                'recent-activity': 'Recent Activity',
                'file-uploaded': 'New file uploaded',
                'new-comment': 'New comment on your post',
                'new-meeting-activity': 'New meeting scheduled',
                'file-management': 'File Management',
                'choose-file': 'Choose a file',
                'file-description': 'File Description',
                'enter-description': 'Enter a file description',
                'upload': 'Upload File',
                'your-files': 'Your Uploaded Files',
                'monthly-report': 'Monthly Performance Report',
                'weekly-tasks': 'Weekly Tasks Schedule',
                'added': 'Added',
                'post-title': 'Post Title',
                'enter-title': 'Enter post title',
                'post-content': 'Post Content',
                'enter-content': 'Enter post content',
                'publish': 'Publish',
                'select-dept': 'Select Department',
                'choose-dept': '-- Select Department --',
                'message-content': 'Message Content',
                'enter-message': 'Enter message content',
                'send': 'Send',
                'posts-messages': 'Posts and Messages',
                'filter-dept': 'Filter by Department',
                'reset': 'Reset',
                'all-depts': 'All Departments',
                'post1-content': 'All employees are requested to submit their monthly performance reports by the end of this week.',
                'post2-content': 'Announcement of a new workshop on budget management for different departments.',
                'likes': 'Likes',
                'comments': 'Comments',
                'private-message': 'Private Message',
                'comment1-content': 'When will the workshop be? Will it be available for all departments?',
                'comment2-content': 'Can I get more details about the workshop time?',
                'reply1-content': 'The workshop will be next Wednesday and available for everyone',
                'add-comment': 'Add a comment...',
                'like': 'Like',
                'reply': 'Reply',
                'general-settings': 'General Settings',
                'dark-mode': 'Dark Mode',
                'sound': 'Sound',
                'language': 'Language',
                'current-language': 'Current Language',
                'change-language': 'Change Language',
                'privacy': 'Privacy',
                'profile-visibility': 'Profile Visibility',
                'everyone': 'Everyone',
                'friends-only': 'Friends Only',
                'private': 'Private',
                'no-one': 'No One',
                'personal-info': 'Personal Information',
                'full-name': 'Full Name',
                'email': 'Email',
                'phone': 'Phone Number',
                'department': 'Department',
                'save-changes': 'Save Changes',
                'edit-profile': 'Edit Profile',
                'ai-assistant': 'AI Assistant',
                'ai-welcome': 'Hello! How can I help you today?',
                'ask-question': 'Ask your question...',
                'type-message': 'Type your message...',
                'success': 'Success',
                'operation-success': 'Operation completed successfully',
                'error': 'Error',
                'warning': 'Warning',
                'enter-username-password': 'Please enter username and password',
                'enter-username': 'Please enter username',
                'enter-password': 'Please enter password',
                'choose-file-error': 'Please choose a file',
                'enter-title-content': 'Please enter post title and content',
                'select-dept-error': 'Please select a department',
                'enter-message-error': 'Please enter message content',
                'enter-comment': 'Please enter a comment',
                'restricted-access': 'This department is restricted and cannot be accessed',
                'logout-confirm': 'Are you sure you want to logout?',
                'logout-success': 'Logged out successfully',
                'dark-mode-enabled': 'Dark mode enabled',
                'dark-mode-disabled': 'Dark mode disabled',
                'file-uploaded-success': 'File uploaded successfully',
                'post-published': 'Post published successfully',
                'message-sent': 'Message sent successfully',
                'comment-added': 'Comment added successfully'
            }
        };
        
        // Global variables
        let currentUser = null;
        let currentDepartment = null;
        let chatRecipient = null;
        let isLoggedIn = false;
        let currentLanguage = 'ar';
        
        // DOM elements
        const loginSection = document.getElementById('login-section');
        const departmentSelection = document.getElementById('department-selection');
        const dashboardSection = document.getElementById('dashboard-section');
        const chatPage = document.getElementById('chat-page');
        const mainContent = document.getElementById('main-content');
        const sidebar = document.getElementById('sidebar');
        const notificationsPanel = document.getElementById('notifications-panel');
        const aiChat = document.getElementById('ai-chat');
        const notification = document.getElementById('notification');
        const languageSelect = document.getElementById('language-select');
        const settingsLanguageSelect = document.getElementById('settings-language-select');
        const currentLanguageDisplay = document.getElementById('current-language-display');
        const addMenu = document.getElementById('add-menu');
        
        // Section elements
        const homeSection = document.getElementById('home-section');
        const fileUploadSection = document.getElementById('file-upload-section');
        const createPostSection = document.getElementById('create-post-section');
        const departmentCommunicationSection = document.getElementById('department-communication-section');
        const postsSection = document.getElementById('posts-section');
        const settingsSection = document.getElementById('settings-section');
        const profileSection = document.getElementById('profile-section');
        
        // Language change function
        function changeLanguage(lang) {
            currentLanguage = lang;
            document.documentElement.lang = lang;
            document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
            
            // Update all elements with data-i18n attribute
            document.querySelectorAll('[data-i18n]').forEach(element => {
                const key = element.getAttribute('data-i18n');
                if (translations[lang] && translations[lang][key]) {
                    element.textContent = translations[lang][key];
                }
            });
            
            // Update placeholders
            document.querySelectorAll('[data-i18n-placeholder]').forEach(element => {
                const key = element.getAttribute('data-i18n-placeholder');
                if (translations[lang] && translations[lang][key]) {
                    element.placeholder = translations[lang][key];
                }
            });
            
            // Update language select values
            languageSelect.value = lang;
            settingsLanguageSelect.value = lang;
            
            // Update current language display
            currentLanguageDisplay.textContent = lang === 'ar' ? 'العربية' : 'English';
            
            // Update file-chosen text if in English
            if (lang === 'en') {
                const fileChosen = document.getElementById('file-chosen');
                if (fileChosen && fileChosen.textContent === 'No file chosen') {
                    fileChosen.textContent = 'No file chosen';
                }
            }
            
            // Update sidebar tooltips
            document.querySelectorAll('.sidebar-tooltip').forEach(tooltip => {
                const key = tooltip.getAttribute('data-i18n');
                if (translations[lang] && translations[lang][key]) {
                    tooltip.textContent = translations[lang][key];
                }
            });
            
            // Update notification messages
            updateNotificationMessages(lang);
        }
        
        // Update notification messages based on language
        function updateNotificationMessages(lang) {
            // This function will be called when showing notifications to ensure they are in the correct language
        }
        
        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            // Set initial language
            changeLanguage(currentLanguage);
            
            // Language selector change event
            languageSelect.addEventListener('change', function() {
                changeLanguage(this.value);
            });
            
            // Settings language selector change event
            settingsLanguageSelect.addEventListener('change', function() {
                changeLanguage(this.value);
            });
            
            // Login form submission
            document.getElementById('login-form').addEventListener('submit', function(e) {
                e.preventDefault();
                const username = document.getElementById('username').value;
                const password = document.getElementById('password').value;
                
                if (username && password) {
                    currentUser = username;
                    document.getElementById('user-name').textContent = username;
                    document.getElementById('user-avatar').textContent = username.charAt(0).toUpperCase();
                    
                    loginSection.classList.add('hidden');
                    departmentSelection.classList.remove('hidden');
                    
                    showNotification(translations[currentLanguage]['login-success'], 'success');
                } else {
                    showNotification(translations[currentLanguage]['enter-username-password'], 'error');
                }
            });
            
            // Back to login button
            document.getElementById('back-to-login').addEventListener('click', function() {
                departmentSelection.classList.add('hidden');
                loginSection.classList.remove('hidden');
            });
            
            // Department selection
            document.querySelectorAll('.department-card').forEach(card => {
                card.addEventListener('click', function() {
                    const deptId = this.getAttribute('data-dept');
                    const deptName = this.querySelector('h3').textContent;
                    
                    // Check if department is restricted
                    if (this.classList.contains('restricted-department')) {
                        showNotification(translations[currentLanguage]['restricted-access'], 'warning');
                        return;
                    }
                    
                    currentDepartment = {
                        id: deptId,
                        name: deptName
                    };
                    
                    // Update profile information
                    document.getElementById('profile-role').textContent = `${translations[currentLanguage]['employee-in']} ${deptName}`;
                    document.getElementById('profile-name').textContent = currentUser;
                    document.getElementById('profile-avatar').textContent = currentUser.charAt(0).toUpperCase();
                    
                    departmentSelection.classList.add('hidden');
                    dashboardSection.classList.remove('hidden');
                    
                    // Show sidebar and set logged-in state
                    sidebar.style.display = 'flex';
                    document.body.classList.add('logged-in');
                    isLoggedIn = true;
                    
                    // Show home section by default
                    showSection('home');
                    
                    showNotification(`${translations[currentLanguage]['dept-selected']} ${deptName}`, 'success');
                });
            });
            
            // File upload functionality
            document.getElementById('upload-file-btn').addEventListener('click', function() {
                document.getElementById('file-upload-form').classList.toggle('hidden');
            });
            
            document.getElementById('file-input').addEventListener('change', function() {
                const fileName = this.files[0]?.name || (currentLanguage === 'ar' ? 'لم يتم اختيار ملف' : 'No file chosen');
                document.getElementById('file-chosen').textContent = fileName;
            });
            
            document.getElementById('upload-btn').addEventListener('click', function() {
                const fileInput = document.getElementById('file-input');
                const fileDescription = document.getElementById('file-description').value;
                
                if (fileInput.files.length === 0) {
                    showNotification(translations[currentLanguage]['choose-file-error'], 'error');
                    return;
                }
                
                const file = fileInput.files[0];
                const fileSize = (file.size / (1024 * 1024)).toFixed(2) + ' MB';
                const fileType = file.name.split('.').pop().toUpperCase();
                const currentDate = new Date().toLocaleDateString(currentLanguage === 'ar' ? 'ar-EG' : 'en-US');
                
                // Create new file item
                const fileItem = document.createElement('div');
                fileItem.className = 'file-item';
                
                // Determine icon based on file type
                let iconClass = 'fa-file';
                if (fileType === 'PDF') {
                    iconClass = 'fa-file-pdf';
                } else if (fileType === 'XLSX' || fileType === 'XLS') {
                    iconClass = 'fa-file-excel';
                } else if (fileType === 'DOCX' || fileType === 'DOC') {
                    iconClass = 'fa-file-word';
                }
                
                fileItem.innerHTML = `
                    <div class="file-icon">
                        <i class="fas ${iconClass}"></i>
                    </div>
                    <div class="file-details">
                        <div class="file-name">${file.name}</div>
                        <div class="file-meta">${fileType} • ${fileSize} • ${translations[currentLanguage]['added']}: ${currentDate}</div>
                    </div>
                `;
                
                // Add to uploaded files list
                document.getElementById('uploaded-files').appendChild(fileItem);
                
                // Reset form
                fileInput.value = '';
                document.getElementById('file-description').value = '';
                document.getElementById('file-chosen').textContent = currentLanguage === 'ar' ? 'لم يتم اختيار ملف' : 'No file chosen';
                document.getElementById('file-upload-form').classList.add('hidden');
                
                showNotification(translations[currentLanguage]['file-uploaded-success'], 'success');
            });
            
            // Create post functionality
            document.getElementById('create-post-form').addEventListener('submit', function(e) {
                e.preventDefault();
                const title = document.getElementById('post-title').value;
                const content = document.getElementById('post-content').value;
                
                if (!title || !content) {
                    showNotification(translations[currentLanguage]['enter-title-content'], 'error');
                    return;
                }
                
                // Create new post
                const postItem = document.createElement('div');
                postItem.className = 'post-item';
                postItem.setAttribute('data-dept', currentDepartment.id);
                
                const currentDate = new Date().toLocaleDateString(currentLanguage === 'ar' ? 'ar-EG' : 'en-US');
                
                postItem.innerHTML = `
                    <div class="post-header">
                        <div>
                            <div class="post-author">${currentUser}</div>
                            <div class="post-department">${currentDepartment.name}</div>
                        </div>
                        <div class="post-date">${currentDate}</div>
                    </div>
                    <div class="post-content">
                        <strong>${title}</strong><br>
                        ${content}
                    </div>
                    <div class="post-actions">
                        <span class="post-action">
                            <i class="fas fa-heart"></i> 0 ${translations[currentLanguage]['likes']}
                        </span>
                        <span class="post-action">
                            <i class="fas fa-comment"></i> 0 ${translations[currentLanguage]['comments']}
                        </span>
                        <button class="private-message-btn" data-author="${currentUser}" data-dept="${currentDepartment.name}">
                            <i class="fas fa-envelope"></i> ${translations[currentLanguage]['private-message']}
                        </button>
                    </div>
                    <div class="comments-section">
                        <div class="comment-form">
                            <input type="text" class="comment-input" data-i18n-placeholder="${currentLanguage === 'ar' ? 'add-comment' : 'add-comment'}" placeholder="${translations[currentLanguage]['add-comment']}">
                            <div class="comment-actions-form">
                                <button class="comment-submit">${translations[currentLanguage]['publish']}</button>
                            </div>
                        </div>
                    </div>
                `;
                
                // Add to posts list
                document.getElementById('posts-list').prepend(postItem);
                
                // Reset form
                document.getElementById('post-title').value = '';
                document.getElementById('post-content').value = '';
                
                // Add event listeners to new post
                addPostEventListeners(postItem);
                
                showNotification(translations[currentLanguage]['post-published'], 'success');
            });
            
            // Department message functionality
            document.getElementById('department-message-form').addEventListener('submit', function(e) {
                e.preventDefault();
                const departmentId = document.getElementById('department-select').value;
                const messageContent = document.getElementById('message-content').value;
                
                if (!departmentId) {
                    showNotification(translations[currentLanguage]['select-dept-error'], 'error');
                    return;
                }
                
                if (!messageContent) {
                    showNotification(translations[currentLanguage]['enter-message-error'], 'error');
                    return;
                }
                
                // Get department name
                const departmentSelect = document.getElementById('department-select');
                const departmentName = departmentSelect.options[departmentSelect.selectedIndex].text;
                
                // Create new post for department message
                const postItem = document.createElement('div');
                postItem.className = 'post-item';
                postItem.setAttribute('data-dept', currentDepartment.id);
                
                const currentDate = new Date().toLocaleDateString(currentLanguage === 'ar' ? 'ar-EG' : 'en-US');
                
                postItem.innerHTML = `
                    <div class="post-header">
                        <div>
                            <div class="post-author">${currentUser}</div>
                            <div class="post-department">${currentDepartment.name}</div>
                        </div>
                        <div class="post-date">${currentDate}</div>
                    </div>
                    <div class="post-content">
                        <strong>${currentLanguage === 'ar' ? 'رسالة إلى إدارة' : 'Message to'} ${departmentName}</strong><br>
                        ${messageContent}
                    </div>
                    <div class="post-actions">
                        <span class="post-action">
                            <i class="fas fa-heart"></i> 0 ${translations[currentLanguage]['likes']}
                        </span>
                        <span class="post-action">
                            <i class="fas fa-comment"></i> 0 ${translations[currentLanguage]['comments']}
                        </span>
                        <button class="private-message-btn" data-author="${currentUser}" data-dept="${currentDepartment.name}">
                            <i class="fas fa-envelope"></i> ${translations[currentLanguage]['private-message']}
                        </button>
                    </div>
                    <div class="comments-section">
                        <div class="comment-form">
                            <input type="text" class="comment-input" data-i18n-placeholder="${currentLanguage === 'ar' ? 'add-comment' : 'add-comment'}" placeholder="${translations[currentLanguage]['add-comment']}">
                            <div class="comment-actions-form">
                                <button class="comment-submit">${translations[currentLanguage]['publish']}</button>
                            </div>
                        </div>
                    </div>
                `;
                
                // Add to posts list
                document.getElementById('posts-list').prepend(postItem);
                
                // Reset form
                document.getElementById('department-select').value = '';
                document.getElementById('message-content').value = '';
                
                // Add event listeners to new post
                addPostEventListeners(postItem);
                
                showNotification(`${translations[currentLanguage]['message-sent']} ${departmentName}`, 'success');
            });
            
            // Department filter functionality
            document.querySelectorAll('.filter-option').forEach(option => {
                option.addEventListener('click', function() {
                    // Update active state
                    document.querySelectorAll('.filter-option').forEach(opt => {
                        opt.classList.remove('active');
                    });
                    this.classList.add('active');
                    
                    const deptId = this.getAttribute('data-dept');
                    
                    // Filter posts
                    document.querySelectorAll('.post-item').forEach(post => {
                        if (deptId === 'all' || post.getAttribute('data-dept') === deptId) {
                            post.style.display = 'block';
                        } else {
                            post.style.display = 'none';
                        }
                    });
                });
            });
            
            // Reset filter button
            document.getElementById('reset-filter').addEventListener('click', function() {
                document.querySelectorAll('.filter-option').forEach(opt => {
                    opt.classList.remove('active');
                });
                document.querySelector('.filter-option[data-dept="all"]').classList.add('active');
                
                // Show all posts
                document.querySelectorAll('.post-item').forEach(post => {
                    post.style.display = 'block';
                });
            });
            
            // Add event listeners to existing posts
            document.querySelectorAll('.post-item').forEach(post => {
                addPostEventListeners(post);
            });
            
            // Sidebar navigation
            document.getElementById('sidebar-home').addEventListener('click', function() {
                if (isLoggedIn) {
                    showSection('home');
                    updateSidebarActive('sidebar-home');
                    closeAddMenu();
                }
            });
            
            document.getElementById('sidebar-notifications').addEventListener('click', function() {
                if (isLoggedIn) {
                    notificationsPanel.style.display = notificationsPanel.style.display === 'flex' ? 'none' : 'flex';
                    updateSidebarActive('sidebar-notifications');
                    closeAddMenu();
                    
                    // Reset notification count
                    document.getElementById('notification-count').textContent = '0';
                }
            });
            
            document.getElementById('sidebar-settings').addEventListener('click', function() {
                if (isLoggedIn) {
                    showSection('settings');
                    updateSidebarActive('sidebar-settings');
                    closeAddMenu();
                }
            });
            
            document.getElementById('sidebar-profile').addEventListener('click', function() {
                if (isLoggedIn) {
                    showSection('profile');
                    updateSidebarActive('sidebar-profile');
                    closeAddMenu();
                }
            });
            
            // Add menu functionality
            document.getElementById('sidebar-add').addEventListener('click', function() {
                if (isLoggedIn) {
                    addMenu.style.display = addMenu.style.display === 'flex' ? 'none' : 'flex';
                    updateSidebarActive('sidebar-add');
                }
            });
            
            // Add menu items
            document.getElementById('add-file-upload').addEventListener('click', function() {
                showSection('file-upload');
                updateSidebarActive('sidebar-add');
                closeAddMenu();
            });
            
            document.getElementById('add-post').addEventListener('click', function() {
                showSection('create-post');
                updateSidebarActive('sidebar-add');
                closeAddMenu();
            });
            
            document.getElementById('add-department-message').addEventListener('click', function() {
                showSection('department-communication');
                updateSidebarActive('sidebar-add');
                closeAddMenu();
            });
            
            document.getElementById('sidebar-logout').addEventListener('click', function() {
                if (isLoggedIn && confirm(translations[currentLanguage]['logout-confirm'])) {
                    // Reset app state
                    currentUser = null;
                    currentDepartment = null;
                    isLoggedIn = false;
                    
                    // Hide sidebar
                    sidebar.style.display = 'none';
                    document.body.classList.remove('logged-in');
                    
                    // Show login section
                    dashboardSection.classList.add('hidden');
                    departmentSelection.classList.add('hidden');
                    loginSection.classList.remove('hidden');
                    
                    // Reset form
                    document.getElementById('login-form').reset();
                    
                    showNotification(translations[currentLanguage]['logout-success'], 'success');
                }
            });
            
            // Notifications panel close
            document.getElementById('notifications-close').addEventListener('click', function() {
                notificationsPanel.style.display = 'none';
            });
            
            // Dark mode toggle
            document.getElementById('dark-mode-toggle').addEventListener('change', function() {
                if (this.checked) {
                    document.body.classList.add('dark-mode');
                    showNotification(translations[currentLanguage]['dark-mode-enabled'], 'success');
                } else {
                    document.body.classList.remove('dark-mode');
                    showNotification(translations[currentLanguage]['dark-mode-disabled'], 'success');
                }
            });
            
            // AI Assistant
            document.getElementById('ai-assistant').addEventListener('click', function() {
                aiChat.style.display = aiChat.style.display === 'flex' ? 'none' : 'flex';
            });
            
            document.getElementById('ai-chat-close').addEventListener('click', function() {
                aiChat.style.display = 'none';
            });
            
            document.getElementById('ai-send-btn').addEventListener('click', sendAiMessage);
            document.getElementById('ai-input').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    sendAiMessage();
                }
            });
            
            // Chat page functionality
            document.getElementById('chat-back-btn').addEventListener('click', function() {
                chatPage.style.display = 'none';
                mainContent.style.display = 'block';
            });
            
            document.getElementById('chat-send-btn').addEventListener('click', sendChatMessage);
            document.getElementById('chat-input').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    sendChatMessage();
                }
            });
            
            // Close notifications panel when clicking outside
            document.addEventListener('click', function(e) {
                if (!notificationsPanel.contains(e.target) && 
                    !document.getElementById('sidebar-notifications').contains(e.target)) {
                    notificationsPanel.style.display = 'none';
                }
                
                // Close add menu when clicking outside
                if (!addMenu.contains(e.target) && 
                    !document.getElementById('sidebar-add').contains(e.target)) {
                    addMenu.style.display = 'none';
                }
            });
            
            // Close AI chat when clicking outside
            document.addEventListener('click', function(e) {
                if (!aiChat.contains(e.target) && 
                    !document.getElementById('ai-assistant').contains(e.target)) {
                    aiChat.style.display = 'none';
                }
            });
        });
        
        // Helper functions
        function showSection(section) {
            // Hide all sections
            homeSection.classList.add('hidden');
            fileUploadSection.classList.add('hidden');
            createPostSection.classList.add('hidden');
            departmentCommunicationSection.classList.add('hidden');
            postsSection.classList.add('hidden');
            settingsSection.classList.add('hidden');
            profileSection.classList.add('hidden');
            
            // Show selected section
            if (section === 'home') {
                homeSection.classList.remove('hidden');
            } else if (section === 'file-upload') {
                fileUploadSection.classList.remove('hidden');
            } else if (section === 'create-post') {
                createPostSection.classList.remove('hidden');
            } else if (section === 'department-communication') {
                departmentCommunicationSection.classList.remove('hidden');
            } else if (section === 'posts') {
                postsSection.classList.remove('hidden');
            } else if (section === 'settings') {
                settingsSection.classList.remove('hidden');
            } else if (section === 'profile') {
                profileSection.classList.remove('hidden');
            }
        }
        
        function updateSidebarActive(activeId) {
            document.querySelectorAll('.sidebar-icon').forEach(icon => {
                icon.classList.remove('active');
            });
            document.getElementById(activeId).classList.add('active');
        }
        
        function closeAddMenu() {
            addMenu.style.display = 'none';
        }
        
        function showNotification(message, type = 'success') {
            const notificationEl = document.getElementById('notification');
            const titleEl = document.getElementById('notification-title');
            const messageEl = document.getElementById('notification-message');
            
            // Set notification type
            notificationEl.className = 'notification';
            if (type === 'error') {
                notificationEl.classList.add('error');
                titleEl.textContent = translations[currentLanguage]['error'];
            } else if (type === 'warning') {
                notificationEl.classList.add('warning');
                titleEl.textContent = translations[currentLanguage]['warning'];
            } else {
                titleEl.textContent = translations[currentLanguage]['success'];
            }
            
            // Set message
            messageEl.textContent = message;
            
            // Show notification
            notificationEl.classList.add('show');
            
            // Hide after 3 seconds
            setTimeout(() => {
                notificationEl.classList.remove('show');
            }, 3000);
        }
        
        function addPostEventListeners(post) {
            // Like button
            const likeBtn = post.querySelector('.post-action:first-child');
            likeBtn.addEventListener('click', function() {
                const likeCount = parseInt(this.textContent.match(/\d+/)[0]);
                this.innerHTML = `<i class="fas fa-heart"></i> ${likeCount + 1} ${translations[currentLanguage]['likes']}`;
            });
            
            // Comment button
            const commentBtn = post.querySelector('.post-action:nth-child(2)');
            commentBtn.addEventListener('click', function() {
                const commentsSection = post.querySelector('.comments-section');
                commentsSection.scrollIntoView({ behavior: 'smooth' });
            });
            
            // Private message button
            const privateMessageBtn = post.querySelector('.private-message-btn');
            privateMessageBtn.addEventListener('click', function() {
                const author = this.getAttribute('data-author');
                const dept = this.getAttribute('data-dept');
                
                openChat(author, dept);
            });
            
            // Comment form
            const commentForm = post.querySelector('.comment-form');
            const commentInput = commentForm.querySelector('.comment-input');
            const commentSubmit = commentForm.querySelector('.comment-submit');
            
            commentSubmit.addEventListener('click', function() {
                const commentText = commentInput.value.trim();
                
                if (!commentText) {
                    showNotification(translations[currentLanguage]['enter-comment'], 'error');
                    return;
                }
                
                // Create new comment
                const commentItem = document.createElement('div');
                commentItem.className = 'comment-item';
                
                const currentDate = new Date().toLocaleDateString(currentLanguage === 'ar' ? 'ar-EG' : 'en-US');
                
                commentItem.innerHTML = `
                    <div class="comment-author">${currentUser}</div>
                    <div class="comment-content">${commentText}</div>
                    <div class="comment-actions">
                        <span class="comment-action">${translations[currentLanguage]['like']}</span>
                        <span class="comment-action">${translations[currentLanguage]['reply']}</span>
                        <button class="private-message-btn" data-author="${currentUser}" data-dept="${currentDepartment.name}">
                            <i class="fas fa-envelope"></i> ${translations[currentLanguage]['private-message']}
                        </button>
                    </div>
                `;
                
                // Add to comments section
                const commentsSection = post.querySelector('.comments-section');
                commentsSection.insertBefore(commentItem, commentForm);
                
                // Reset input
                commentInput.value = '';
                
                // Update comment count
                const commentCount = parseInt(commentBtn.textContent.match(/\d+/)[0]);
                commentBtn.innerHTML = `<i class="fas fa-comment"></i> ${commentCount + 1} ${translations[currentLanguage]['comments']}`;
                
                // Add event listeners to new comment
                const newPrivateMessageBtn = commentItem.querySelector('.private-message-btn');
                newPrivateMessageBtn.addEventListener('click', function() {
                    const author = this.getAttribute('data-author');
                    const dept = this.getAttribute('data-dept');
                    
                    openChat(author, dept);
                });
                
                showNotification(translations[currentLanguage]['comment-added'], 'success');
            });
        }
        
        function openChat(author, dept) {
            chatRecipient = {
                name: author,
                department: dept
            };
            
            // Update chat header
            document.getElementById('chat-recipient-name').textContent = author;
            document.getElementById('chat-recipient-dept').textContent = dept;
            
            // Clear previous messages
            document.getElementById('chat-messages').innerHTML = '';
            
            // Add welcome message
            const welcomeMessage = document.createElement('div');
            welcomeMessage.className = 'chat-message received';
            welcomeMessage.innerHTML = `
                <div class="message-bubble">
                    ${currentLanguage === 'ar' ? 'مرحباً! يمكنك الآن إرسال رسالة خاصة إلى' : 'Hello! You can now send a private message to'} ${author}
                </div>
                <div class="message-time">${new Date().toLocaleTimeString(currentLanguage === 'ar' ? 'ar-EG' : 'en-US')}</div>
            `;
            document.getElementById('chat-messages').appendChild(welcomeMessage);
            
            // Show chat page
            mainContent.style.display = 'none';
            chatPage.style.display = 'flex';
        }
        
        function sendChatMessage() {
            const chatInput = document.getElementById('chat-input');
            const messageText = chatInput.value.trim();
            
            if (!messageText) {
                return;
            }
            
            // Create message element
            const messageElement = document.createElement('div');
            messageElement.className = 'chat-message sent';
            messageElement.innerHTML = `
                <div class="message-bubble">${messageText}</div>
                <div class="message-time">${new Date().toLocaleTimeString(currentLanguage === 'ar' ? 'ar-EG' : 'en-US')}</div>
            `;
            
            // Add to chat
            document.getElementById('chat-messages').appendChild(messageElement);
            
            // Clear input
            chatInput.value = '';
            
            // Scroll to bottom
            const chatMessages = document.getElementById('chat-messages');
            chatMessages.scrollTop = chatMessages.scrollHeight;
            
            // Simulate reply after a delay
            setTimeout(() => {
                const replyElement = document.createElement('div');
                replyElement.className = 'chat-message received';
                replyElement.innerHTML = `
                    <div class="message-bubble">${currentLanguage === 'ar' ? 'شكراً لرسالتك. سأرد عليك في أقرب وقت ممكن.' : 'Thank you for your message. I will reply to you as soon as possible.'}</div>
                    <div class="message-time">${new Date().toLocaleTimeString(currentLanguage === 'ar' ? 'ar-EG' : 'en-US')}</div>
                `;
                document.getElementById('chat-messages').appendChild(replyElement);
                
                // Scroll to bottom
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }, 1000);
        }
        
        function sendAiMessage() {
            const aiInput = document.getElementById('ai-input');
            const messageText = aiInput.value.trim();
            
            if (!messageText) {
                return;
            }
            
            // Create user message
            const userMessage = document.createElement('div');
            userMessage.className = 'ai-message user';
            userMessage.textContent = messageText;
            
            // Add to chat
            document.getElementById('ai-chat-body').appendChild(userMessage);
            
            // Clear input
            aiInput.value = '';
            
            // Simulate AI response
            setTimeout(() => {
                const aiMessage = document.createElement('div');
                aiMessage.className = 'ai-message ai';
                aiMessage.textContent = currentLanguage === 'ar' ? 'أنا أعمل على إجابتك. يرجى الانتظار قليلاً...' : 'I am working on your answer. Please wait a moment...';
                
                // Add to chat
                document.getElementById('ai-chat-body').appendChild(aiMessage);
                
                // Scroll to bottom
                const aiChatBody = document.getElementById('ai-chat-body');
                aiChatBody.scrollTop = aiChatBody.scrollHeight;
            }, 500);
        }
    </script>
</body>
</html>